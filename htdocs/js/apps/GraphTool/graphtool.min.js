function graphTool(e,t){if(!document.getElementById(e+"_graph")){var o,s=t.snapSizeX?t.snapSizeX:1,n=t.snapSizeY?t.snapSizeY:1,a="isStatic"in t&&t.isStatic,i=t.availableTools?t.availableTools:["LineTool","CircleTool","VerticalParabolaTool","HorizontalParabolaTool","FillTool","SolidDashTool"],d="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",b={};"htmlInputId"in t&&(o=document.getElementById(t.htmlInputId));var r={showCopyright:!1,minimizeReflow:"all",pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7},straightFirst:!1,straightLast:!1},grid:{gridX:s,gridY:n}};"JSXGraphOptions"in t&&$.extend(!0,r,r,t.JSXGraphOptions),x.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})})},x.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),b.drawSolid=0==this.baseObj.getAttribute("dash"),p.prop("disabled",b.drawSolid),f.prop("disabled",!b.drawSolid)},x.prototype.update=function(){},x.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){b.board.removeObject(t)}),b.board.removeObject(this.baseObj)},x.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},x.prototype.stringify=function(){return""},x.prototype.id=function(){return this.baseObj.id},x.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},x.prototype.off=function(t,e){this.baseObj.off(t,e)},x.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;switch(e[1]){case"line":o=X.restore(e[2]);break;case"parabola":o=Y.restore(e[2]);break;case"circle":o=S.restore(e[2]);break;case"fill":o=k.restore(e[2])}return!1!==o&&o.blur(),o},X.prototype=Object.create(x.prototype),Object.defineProperty(X.prototype,"constructor",{value:X,enumerable:!1,writable:!0}),X.prototype.stringify=function(){return"line,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+g(this.definingPts.point1.X(),s)+","+g(this.definingPts.point1.Y(),n)+"),("+g(this.definingPts.point2.X(),s)+","+g(this.definingPts.point2.Y(),n)+")"},X.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=m(parseFloat(i[0][0]),parseFloat(i[0][1]));return new X(r,m(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},S.prototype=Object.create(x.prototype),Object.defineProperty(S.prototype,"constructor",{value:S,enumerable:!1,writable:!0}),S.prototype.stringify=function(){return"circle,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+g(this.definingPts.center.X(),s)+","+g(this.definingPts.center.Y(),n)+"),("+g(this.definingPts.point.X(),s)+","+g(this.definingPts.point.Y(),n)+")"},S.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=m(parseFloat(i[0][0]),parseFloat(i[0][1]));return new S(r,m(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},Y.prototype=Object.create(x.prototype),Object.defineProperty(Y.prototype,"constructor",{value:Y,enumerable:!1,writable:!0}),Y.prototype.stringify=function(){return"parabola,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+","+(this.vertical?"vertical":"horizontal")+",("+g(this.definingPts.vertex.X(),s)+","+g(this.definingPts.vertex.Y(),n)+"),("+g(this.definingPts.point.X(),s)+","+g(this.definingPts.point.Y(),n)+")"},Y.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=m(parseFloat(i[0][0]),parseFloat(i[0][1]));return new Y(r,m(parseFloat(i[1][0]),parseFloat(i[1][1]),r,!0),/vertical/.test(t),/solid/.test(t))},k.prototype=Object.create(x.prototype),Object.defineProperty(k.prototype,"constructor",{value:k,enumerable:!1,writable:!0}),k.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},k.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},k.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},k.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},k.prototype.remove=function(){"fillObj"in this&&b.board.removeObject(this.fillObj),x.prototype.remove.call(this)},k.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var p=this;this.updateTimeout=setTimeout(function(){p.updateTimeout=0,"fillObj"in p&&(b.board.removeObject(p.fillObj),delete p.fillObj);for(var t=p.definingPts.point.coords.usrCoords,r=b.graphedObjs.concat(b.staticObjs),s=Array(r.length),e=0;e<r.length;++e){switch(r[e].baseObj.elType){case"line":s[e]=E(JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"circle":s[e]=E(r[e].baseObj.stdform[3]*(t[1]*t[1]+t[2]*t[2])+JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"curve":r[e].vertical?s[e]=E(t[2]-r[e].baseObj.Y(t[1])):s[e]=E(t[1]-r[e].baseObj.X(t[2]));break;default:s[e]=1}if(0==s[e])return}var o=document.createElement("canvas");o.width=b.board.canvasWidth,o.height=b.board.canvasHeight;function i(t,e){for(var o=[1,(t-b.board.origin.scrCoords[1])/b.board.unitX,(b.board.origin.scrCoords[2]-e)/b.board.unitY],i=0;i<r.length;++i)switch(r[i].baseObj.elType){case"line":if(E(JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=s[i])return!1;break;case"circle":if(E(r[i].baseObj.stdform[3]*(o[1]*o[1]+o[2]*o[2])+JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=s[i])return!1;break;case"curve":if(r[i].vertical&&E(o[2]-r[i].baseObj.Y(o[1]))!=s[i]||!r[i].vertical&&E(o[1]-r[i].baseObj.X(o[2]))!=s[i])return!1}return!0}for(var n,a=o.getContext("2d"),d=a.getImageData(0,0,o.width,o.height),l=0;l<o.width;++l)for(var c=0;c<o.height;++c)i(l,c)&&(n=4*(c*o.width+l),d.data[n]=255,d.data[n+1]=255,d.data[n+2]=150,d.data[n+3]=255);a.putImageData(d,0,0);var h=o.toDataURL("image/png");o.remove();var u=b.board.getBoundingBox();p.fillObj=b.board.create("image",[h,[u[0],u[3]],[u[2]-u[0],u[1]-u[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},k.prototype.stringify=function(){return"fill,("+g(this.baseObj.X(),s)+","+g(this.baseObj.Y(),n)+")"},k.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));return!!i.length&&new k(m(parseFloat(i[0][0]),parseFloat(i[0][1])))},T.prototype.activate=function(){b.activeTool.deactivate(),(b.activeTool=this).button.blur(),this.button.prop("disabled",!0)},T.prototype.updateHighlights=function(t){},T.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){b.board.removeObject(this[t]),delete this[t]},this.hlObjs)},T.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},G.prototype=Object.create(T.prototype),Object.defineProperty(G.prototype,"constructor",{value:G,enumerable:!1,writable:!0}),G.prototype.selectionChanged=function(t){if(b.selectedObj){if(b.selectedObj.id()==this.gtGraphObject.id())return;for(var e=j(t),o=Object.values(b.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==g(e.usrCoords[1],s)&&o[i].Y()==g(e.usrCoords[2],n))return;b.selectedObj.blur()}b.selectedObj=this.gtGraphObject,b.selectedObj.focus()},G.prototype.activate=function(t){T.prototype.activate.call(this),t||1!=b.graphedObjs.length||(b.selectedObj=b.graphedObjs[0],b.selectedObj.focus()),b.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},G.prototype.deactivate=function(){b.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),T.prototype.deactivate.call(this)},B.prototype=Object.create(T.prototype),Object.defineProperty(B.prototype,"constructor",{value:B,enumerable:!1,writable:!0}),B.prototype.updateHighlights=function(t){"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=b.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),O(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},B.prototype.deactivate=function(){b.board.off("up"),"point1"in this&&b.board.removeObject(this.point1),delete this.point1,b.board.containerObj.style.cursor="auto",T.prototype.deactivate.call(this)},B.prototype.activate=function(){T.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=j(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.point1=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1}),o.point1.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=j(t);o.point1.X()==g(e.usrCoords[1],s)&&o.point1.Y()==g(e.usrCoords[2],n)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.point1.setAttribute({fixed:!1}),o.point1.on("down",function(){b.board.containerObj.style.cursor="none"}),o.point1.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new X(o.point1,m(e.usrCoords[1],e.usrCoords[2],o.point1),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.point1,w(),v(),b.board.update(),b.tools[0].activate())}),b.board.update())})},R.prototype=Object.create(T.prototype),Object.defineProperty(R.prototype,"constructor",{value:R,enumerable:!1,writable:!0}),R.prototype.updateHighlights=function(t){"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=b.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),O(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},R.prototype.deactivate=function(){b.board.off("up"),"center"in this&&b.board.removeObject(this.center),delete this.center,b.board.containerObj.style.cursor="auto",T.prototype.deactivate.call(this)},R.prototype.activate=function(){T.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=j(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.center=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1}),o.center.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=j(t);o.center.X()==g(e.usrCoords[1],s)&&o.center.Y()==g(e.usrCoords[2],n)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.center.setAttribute({fixed:!1}),o.center.on("down",function(){b.board.containerObj.style.cursor="none"}),o.center.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new S(o.center,m(e.usrCoords[1],e.usrCoords[2],o.center),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.center,w(),v(),b.board.update(),b.tools[0].activate())}),b.board.update())})},z.prototype=Object.create(T.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,enumerable:!1,writable:!0}),z.prototype.updateHighlights=function(t){"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:n,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=P(this.vertex,this.hlObjs.hl_point,this.vertical,b.drawSolid,"orange"))),O(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},z.prototype.deactivate=function(){b.board.off("up"),"vertex"in this&&b.board.removeObject(this.vertex),delete this.vertex,b.board.containerObj.style.cursor="auto",T.prototype.deactivate.call(this)},z.prototype.activate=function(){T.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=j(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1}),o.vertex.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=j(t);o.vertex.X()!=g(e.usrCoords[1],s)&&o.vertex.Y()!=g(e.usrCoords[2],n)&&b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex.setAttribute({fixed:!1}),o.vertex.on("down",function(){b.board.containerObj.style.cursor="none"}),o.vertex.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new Y(o.vertex,m(e.usrCoords[1],e.usrCoords[2],o.vertex,!0),o.vertical,b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.vertex,w(),v(),b.board.update(),b.tools[0].activate())}),b.board.update())})},D.prototype=Object.create(T.prototype),Object.defineProperty(D.prototype,"constructor",{value:D,enumerable:!1,writable:!0}),D.prototype.updateHighlights=function(t){void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[g(t.usrCoords[1],s)-12/b.board.unitX,g(t.usrCoords[2],n)-12/b.board.unitY]):this.hlObjs.hl_point=b.board.create("image",[d,[g(t.usrCoords[1],s)-12/b.board.unitX,g(t.usrCoords[2],n)-12/b.board.unitY],[24/b.board.unitX,24/b.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),O(t.usrCoords[1],t.usrCoords[2]),b.board.update())},D.prototype.deactivate=function(){b.board.off("up"),b.board.containerObj.style.cursor="auto",T.prototype.deactivate.call(this)},D.prototype.activate=function(){T.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none",b.board.on("up",function(t){b.board.off("up");var e=j(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),b.selectedObj=new k(m(e.usrCoords[1],e.usrCoords[2])),b.graphedObjs.push(b.selectedObj),v(),b.board.update(),b.tools[0].activate())})},b.tools=[];var l=$("#"+e),c=$("<div id='"+e+"_graph' class='jxgbox graphtool-graph'></div>");if(l.append(c),!a){var h=$("<div class='gt-toolbar-container'></div>");b.tools.push(new G(h)),-1<i.indexOf("LineTool")&&b.tools.push(new B(h)),-1<i.indexOf("CircleTool")&&b.tools.push(new R(h)),-1<i.indexOf("VerticalParabolaTool")&&b.tools.push(new z(h,!0)),-1<i.indexOf("HorizontalParabolaTool")&&b.tools.push(new z(h,!1)),-1<i.indexOf("FillTool")&&b.tools.push(new D(h,!1));var u=$("<div class='gt-solid-dash-box'></div>"),p=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},J);u.append(p);var f=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},J);u.append(f),-1<i.indexOf("SolidDashTool")&&h.append(u),h.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",function(){this.blur(),b.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<b.graphedObjs.length;++t)if(b.graphedObjs[t].id()===b.selectedObj.id()){b.graphedObjs[t].remove(),b.graphedObjs.splice(t,1);break}b.selectedObj=null,w(),v(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),h.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",function(){this.blur(),0!=b.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){b.graphedObjs.forEach(function(t){t.remove()}),b.graphedObjs=[],b.selectedObj=null,b.tools[0].activate(),o.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),l.append(h),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){b.board=JXG.JSXGraph.initBoard(e+"_graph",r),b.board.suspendUpdate();var t=b.board.getBoundingBox();b.board.defaultAxes.x.point1.setPosition(JXG.COORDS_BY_USER,[t[0],0]),b.board.defaultAxes.x.point2.setPosition(JXG.COORDS_BY_USER,[t[2],0]),b.board.defaultAxes.y.point1.setPosition(JXG.COORDS_BY_USER,[0,t[3]]),b.board.defaultAxes.y.point2.setPosition(JXG.COORDS_BY_USER,[0,t[1]]),b.board.create("text",[function(){return b.board.getBoundingBox()[2]-3/b.board.unitX},function(){return 1.5/b.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.board.create("text",[function(){return 4.5/b.board.unitX},function(){return b.board.getBoundingBox()[1]+2.5/b.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.current_pos_text=b.board.create("text",[function(){return b.board.getBoundingBox()[2]-5/b.board.unitX},function(){return b.board.getBoundingBox()[3]+5/b.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),b.board.highlightInfobox=function(t,e,o){return b.board.highlightCustomInfobox("",o)},a||(b.board.on("move",function(t){var e=j(t);b.selectedObj&&!Object.keys(b.selectedObj.definingPts).every(function(t){return"icon"==t||(!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(O(this[t].X(),this[t].Y()),!1))},b.selectedObj.definingPts)||"hl_point"in b.activeTool.hlObjs||O(e.usrCoords[1],e.usrCoords[2]),b.activeTool.updateHighlights(e)}),$(document).on("keydown.ToolDeactivate",function(t){"Escape"===t.key&&b.tools[0].activate()})),$(window).resize(function(t){if(b.board.canvasWidth!=c.width()||b.board.canvasHeight!=c.height()){b.board.resizeContainer(c.width(),c.height(),!0);for(var e=0;e<b.board.objectsList.length;++e)"FillIcon"===b.board.objectsList[e].name&&(b.board.objectsList[e].setPosition(JXG.COORDS_BY_USER,[b.board.objectsList[e].point.X()-12/b.board.unitX,b.board.objectsList[e].point.Y()-12/b.board.unitY]),b.board.update())}}),b.drawSolid=!0,b.graphedObjs=[],b.staticObjs=[],b.selectedObj=null,b.board.unsuspendUpdate()}(),o&&A(o.value,!1),"staticObjects"in t&&"string"==typeof t.staticObjects&&t.staticObjects.length&&A(t.staticObjects,!0),a||(v(),b.activeTool=b.tools[0],b.activeTool.activate(!0))}function g(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5}function O(t,e){b.current_pos_text.setText("("+g(t,s)+", "+g(e,n)+")")}function v(){o.value=b.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")}function j(t){var e;t[JXG.touchProperty]&&(e=0);var o=b.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],s=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,s],b.board)}function y(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=j(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+n]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+s,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-s,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-n])}w(),v()}function C(t){var e=j(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=s:o-=s),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=s:i-=s),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),w(),v()}function m(t,e,o,i){var r=b.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:n,withLabel:!1});return r.on("down",function(){b.board.containerObj.style.cursor="none"}),r.on("up",function(){b.board.containerObj.style.cursor="auto"}),void 0!==o&&((r.paired_point=o).paired_point=r,o.on("drag",i?C:y),r.on("drag",i?C:y)),r}function w(){b.graphedObjs.forEach(function(t){t.update()}),b.staticObjs.forEach(function(t){t.update()})}function x(t){this.baseObj=t,(this.baseObj.gtGraphObject=this).definingPts={}}function X(t,e,o){x.call(this,b.board.create("line",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function S(t,e,o){x.call(this,b.board.create("circle",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function _(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function P(e,o,i,t,r){var s={strokeWidth:2,highlight:!1,dash:t?0:2};return void 0!==r&&(s.strokeColor=r),i?b.board.create("curve",[function(t){return t},function(t){return _(e,o,i)*Math.pow(t-e.X(),2)+e.Y()},function(){return b.board.getBoundingBox()[0]},function(){return b.board.getBoundingBox()[2]}],s):b.board.create("curve",[function(t){return _(e,o,i)*Math.pow(t-e.Y(),2)+e.X()},function(t){return t},function(){return b.board.getBoundingBox()[3]},function(){return b.board.getBoundingBox()[1]}],s)}function Y(t,e,o,i){x.call(this,P(t,e,o,i)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function k(t){t.setAttribute({visible:!1}),x.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var r=this;this.definingPts.icon=b.board.create("image",[function(){return r.focused?"data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E":d},[t.X()-12/b.board.unitX,t.Y()-12/b.board.unitY],[function(){return 24/b.board.unitX},function(){return 24/b.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),(this.definingPts.icon.gtGraphObject=this).definingPts.icon.point=t,(this.isStatic=a)||(this.definingPts.icon.on("down",function(){b.board.containerObj.style.cursor="none"}),this.definingPts.icon.on("up",function(){b.board.containerObj.style.cursor="auto"}),this.definingPts.icon.on("drag",function(t){var e=j(t),o=g(e.usrCoords[1],s),i=g(e.usrCoords[2],n);this.setPosition(JXG.COORDS_BY_USER,[o-12/b.board.unitX,i-12/b.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[o,i]),r.update(),v()}))}function E(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:0<t?1:-1}function T(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function G(t){T.call(this,t,"select","Object Selection Tool")}function B(t){T.call(this,t,"line","Line Tool")}function R(t){T.call(this,t,"circle","Circle Tool")}function z(t,e){T.call(this,t,e?"vertical-parabola":"horizontal-parabola",e?"Vertical Parabola Tool":"Horizontal Parabola Tool"),this.vertical=e}function D(t){T.call(this,t,"fill","Region Shading Tool")}function J(t){this.blur(),p.prop("disabled",t.data.solid),f.prop("disabled",!t.data.solid),b.selectedObj&&(b.selectedObj.setSolid(t.data.solid),v()),b.drawSolid=t.data.solid,b.activeTool.updateHighlights()}function A(t,e){b.board.suspendUpdate();var o=a;a=e;for(var i,r=/{(.*?)}/g;i=r.exec(t);){var s=x.restore(i[1]);!1!==s&&(e?b.staticObjs.push(s):b.graphedObjs.push(s))}a=o,w(),b.board.unsuspendUpdate()}}Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})});