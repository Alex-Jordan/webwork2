function graphTool(e,n){if(!document.getElementById(e+"_graph")){var t,s=n.snapSizeX?n.snapSizeX:1,a=n.snapSizeY?n.snapSizeY:1,o="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",b={};n.htmlInputId&&(t=document.getElementById(n.htmlInputId));var i={showCopyright:!1,minimizeReflow:"all",pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7},straightFirst:!1,straightLast:!1},grid:{gridX:s,gridY:a}};n.JSXGraphOptions&&$.extend(!0,i,i,n.JSXGraphOptions),m.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})})},m.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),b.drawSolid=0==this.baseObj.getAttribute("dash"),u.prop("disabled",b.drawSolid),h.prop("disabled",!b.drawSolid)},m.prototype.update=function(){},m.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){b.board.removeObject(t)}),b.board.removeObject(this.baseObj)},m.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},m.prototype.stringify=function(){return""},m.prototype.id=function(){return this.baseObj.id},m.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},m.prototype.off=function(t,e){this.baseObj.off(t,e)},m.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;switch(e[1]){case"line":o=w.restore(e[2]);break;case"parabola":o=_.restore(e[2]);break;case"circle":o=x.restore(e[2]);break;case"fill":o=Y.restore(e[2])}return!1!==o&&o.blur(),o},w.prototype=Object.create(m.prototype),Object.defineProperty(w.prototype,"constructor",{value:w,enumerable:!1,writable:!0}),w.prototype.stringify=function(){return"line,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+p(this.definingPts.point1.X(),s)+","+p(this.definingPts.point1.Y(),a)+"),("+p(this.definingPts.point2.X(),s)+","+p(this.definingPts.point2.Y(),a)+")"},w.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=y(parseFloat(i[0][0]),parseFloat(i[0][1]));return new w(r,y(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},x.prototype=Object.create(m.prototype),Object.defineProperty(x.prototype,"constructor",{value:x,enumerable:!1,writable:!0}),x.prototype.stringify=function(){return"circle,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+p(this.definingPts.center.X(),s)+","+p(this.definingPts.center.Y(),a)+"),("+p(this.definingPts.point.X(),s)+","+p(this.definingPts.point.Y(),a)+")"},x.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=y(parseFloat(i[0][0]),parseFloat(i[0][1]));return new x(r,y(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},_.prototype=Object.create(m.prototype),Object.defineProperty(_.prototype,"constructor",{value:_,enumerable:!1,writable:!0}),_.prototype.stringify=function(){return"parabola,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+","+(this.vertical?"vertical":"horizontal")+",("+p(this.definingPts.vertex.X(),s)+","+p(this.definingPts.vertex.Y(),a)+"),("+p(this.definingPts.point.X(),s)+","+p(this.definingPts.point.Y(),a)+")"},_.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=y(parseFloat(i[0][0]),parseFloat(i[0][1]));return new _(r,y(parseFloat(i[1][0]),parseFloat(i[1][1]),r,!0),/vertical/.test(t),/solid/.test(t))},Y.prototype=Object.create(m.prototype),Object.defineProperty(Y.prototype,"constructor",{value:Y,enumerable:!1,writable:!0}),Y.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},Y.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},Y.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},Y.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},Y.prototype.remove=function(){"fillObj"in this&&b.board.removeObject(this.fillObj),m.prototype.remove.call(this)},Y.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var p=this;this.updateTimeout=setTimeout(function(){p.updateTimeout=0,"fillObj"in p&&(b.board.removeObject(p.fillObj),delete p.fillObj);for(var t=p.definingPts.point.coords.usrCoords,r=b.graphedObjs.concat(b.staticObjs),s=Array(r.length),e=0;e<r.length;++e){switch(r[e].baseObj.elType){case"line":s[e]=P(JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"circle":s[e]=P(r[e].baseObj.stdform[3]*(t[1]*t[1]+t[2]*t[2])+JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"curve":r[e].vertical?s[e]=P(t[2]-r[e].baseObj.Y(t[1])):s[e]=P(t[1]-r[e].baseObj.X(t[2]));break;default:s[e]=1}if(0==s[e])return}var o=document.createElement("canvas");o.width=b.board.canvasWidth,o.height=b.board.canvasHeight;function i(t,e){for(var o=[1,(t-b.board.origin.scrCoords[1])/b.board.unitX,(b.board.origin.scrCoords[2]-e)/b.board.unitY],i=0;i<r.length;++i)switch(r[i].baseObj.elType){case"line":if(P(JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=s[i])return!1;break;case"circle":if(P(r[i].baseObj.stdform[3]*(o[1]*o[1]+o[2]*o[2])+JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=s[i])return!1;break;case"curve":if(r[i].vertical&&P(o[2]-r[i].baseObj.Y(o[1]))!=s[i]||!r[i].vertical&&P(o[1]-r[i].baseObj.X(o[2]))!=s[i])return!1}return!0}for(var n,a=o.getContext("2d"),d=a.getImageData(0,0,o.width,o.height),c=0;c<o.width;++c)for(var l=0;l<o.height;++l)i(c,l)&&(n=4*(l*o.width+c),d.data[n]=255,d.data[n+1]=255,d.data[n+2]=150,d.data[n+3]=255);a.putImageData(d,0,0);var u=o.toDataURL("image/png");o.remove();var h=b.board.getBoundingBox();p.fillObj=b.board.create("image",[u,[h[0],h[3]],[h[2]-h[0],h[1]-h[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},Y.prototype.stringify=function(){return"fill,("+p(this.baseObj.X(),s)+","+p(this.baseObj.Y(),a)+")"},Y.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));return!!i.length&&new Y(y(parseFloat(i[0][0]),parseFloat(i[0][1])))},k.prototype.activate=function(){b.activeTool.deactivate(),(b.activeTool=this).button.blur(),this.button.prop("disabled",!0)},k.prototype.updateHighlights=function(t){},k.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){b.board.removeObject(this[t]),delete this[t]},this.hlObjs)},k.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},E.prototype=Object.create(k.prototype),Object.defineProperty(E.prototype,"constructor",{value:E,enumerable:!1,writable:!0}),E.prototype.selectionChanged=function(t){if(b.selectedObj){if(b.selectedObj.id()==this.gtGraphObject.id())return;for(var e=O(t),o=Object.values(b.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==p(e.usrCoords[1],s)&&o[i].Y()==p(e.usrCoords[2],a))return;b.selectedObj.blur()}b.selectedObj=this.gtGraphObject,b.selectedObj.focus()},E.prototype.activate=function(t){k.prototype.activate.call(this),t||1!=b.graphedObjs.length||(b.selectedObj=b.graphedObjs[0],b.selectedObj.focus()),b.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},E.prototype.deactivate=function(){b.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),k.prototype.deactivate.call(this)},G.prototype=Object.create(k.prototype),Object.defineProperty(G.prototype,"constructor",{value:G,enumerable:!1,writable:!0}),G.prototype.updateHighlights=function(t){"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=b.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),f(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},G.prototype.deactivate=function(){b.board.off("up"),"point1"in this&&b.board.removeObject(this.point1),delete this.point1,b.board.containerObj.style.cursor="auto",k.prototype.deactivate.call(this)},G.prototype.activate=function(){k.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=O(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.point1=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1}),o.point1.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=O(t);o.point1.X()==p(e.usrCoords[1],s)&&o.point1.Y()==p(e.usrCoords[2],a)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.point1.setAttribute({fixed:!1}),o.point1.on("down",function(){b.board.containerObj.style.cursor="none"}),o.point1.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new w(o.point1,y(e.usrCoords[1],e.usrCoords[2],o.point1),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.point1,C(),g(),b.board.update(),b.tools[0].activate())}),b.board.update())})},B.prototype=Object.create(k.prototype),Object.defineProperty(B.prototype,"constructor",{value:B,enumerable:!1,writable:!0}),B.prototype.updateHighlights=function(t){"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=b.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),f(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},B.prototype.deactivate=function(){b.board.off("up"),"center"in this&&b.board.removeObject(this.center),delete this.center,b.board.containerObj.style.cursor="auto",k.prototype.deactivate.call(this)},B.prototype.activate=function(){k.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=O(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.center=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1}),o.center.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=O(t);o.center.X()==p(e.usrCoords[1],s)&&o.center.Y()==p(e.usrCoords[2],a)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.center.setAttribute({fixed:!1}),o.center.on("down",function(){b.board.containerObj.style.cursor="none"}),o.center.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new x(o.center,y(e.usrCoords[1],e.usrCoords[2],o.center),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.center,C(),g(),b.board.update(),b.tools[0].activate())}),b.board.update())})},R.prototype=Object.create(k.prototype),Object.defineProperty(R.prototype,"constructor",{value:R,enumerable:!1,writable:!0}),R.prototype.updateHighlights=function(t){"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:s,snapSizeY:a,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=X(this.vertex,this.hlObjs.hl_point,this.vertical,b.drawSolid,"orange"))),f(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},R.prototype.deactivate=function(){b.board.off("up"),"vertex"in this&&b.board.removeObject(this.vertex),delete this.vertex,b.board.containerObj.style.cursor="auto",k.prototype.deactivate.call(this)},R.prototype.activate=function(){k.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=O(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1}),o.vertex.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=O(t);o.vertex.X()!=p(e.usrCoords[1],s)&&o.vertex.Y()!=p(e.usrCoords[2],a)&&b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex.setAttribute({fixed:!1}),o.vertex.on("down",function(){b.board.containerObj.style.cursor="none"}),o.vertex.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new _(o.vertex,y(e.usrCoords[1],e.usrCoords[2],o.vertex,!0),o.vertical,b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.vertex,C(),g(),b.board.update(),b.tools[0].activate())}),b.board.update())})},z.prototype=Object.create(k.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,enumerable:!1,writable:!0}),z.prototype.updateHighlights=function(t){void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[p(t.usrCoords[1],s)-12/b.board.unitX,p(t.usrCoords[2],a)-12/b.board.unitY]):this.hlObjs.hl_point=b.board.create("image",[o,[p(t.usrCoords[1],s)-12/b.board.unitX,p(t.usrCoords[2],a)-12/b.board.unitY],[24/b.board.unitX,24/b.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),f(t.usrCoords[1],t.usrCoords[2]),b.board.update())},z.prototype.deactivate=function(){b.board.off("up"),b.board.containerObj.style.cursor="auto",k.prototype.deactivate.call(this)},z.prototype.activate=function(){k.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none",b.board.on("up",function(t){b.board.off("up");var e=O(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),b.selectedObj=new Y(y(e.usrCoords[1],e.usrCoords[2])),b.graphedObjs.push(b.selectedObj),g(),b.board.update(),b.tools[0].activate())})},b.tools=[];var r=$("#"+e),d=$("<div id='"+e+"_graph' class='jxgbox graphtool-graph'></div>");if(r.append(d),!n.isStatic){var c=$("<div class='gt-toolbar-container'></div>");b.tools[0]=new E(c),b.tools[1]=new G(c),b.tools[2]=new B(c),b.tools[3]=new R(c,!0),b.tools[4]=new R(c,!1),b.tools[5]=new z(c,!1);var l=$("<div class='gt-solid-dash-box'></div>"),u=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},T);l.append(u);var h=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},T);l.append(h),c.append(l),c.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",function(){this.blur(),b.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<b.graphedObjs.length;++t)if(b.graphedObjs[t].id()===b.selectedObj.id()){b.graphedObjs[t].remove(),b.graphedObjs.splice(t,1);break}b.selectedObj=null,C(),g(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),c.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",function(){this.blur(),0!=b.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){b.graphedObjs.forEach(function(t){t.remove()}),b.graphedObjs=[],b.selectedObj=null,b.tools[0].activate(),t.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),r.append(c),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){b.board=JXG.JSXGraph.initBoard(e+"_graph",i),b.board.suspendUpdate();var t=b.board.getBoundingBox();b.board.defaultAxes.x.point1.setPosition(JXG.COORDS_BY_USER,[t[0],0]),b.board.defaultAxes.x.point2.setPosition(JXG.COORDS_BY_USER,[t[2],0]),b.board.defaultAxes.y.point1.setPosition(JXG.COORDS_BY_USER,[0,t[3]]),b.board.defaultAxes.y.point2.setPosition(JXG.COORDS_BY_USER,[0,t[1]]),b.board.create("text",[function(){return b.board.getBoundingBox()[2]-3/b.board.unitX},function(){return 1.5/b.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.board.create("text",[function(){return 4.5/b.board.unitX},function(){return b.board.getBoundingBox()[1]+2.5/b.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.current_pos_text=b.board.create("text",[function(){return b.board.getBoundingBox()[2]-5/b.board.unitX},function(){return b.board.getBoundingBox()[3]+5/b.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),b.board.highlightInfobox=function(t,e,o){return b.board.highlightCustomInfobox("",o)},n.isStatic||(b.board.on("move",function(t){var e=O(t);b.selectedObj&&!Object.keys(b.selectedObj.definingPts).every(function(t){return"icon"==t||(!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(f(this[t].X(),this[t].Y()),!1))},b.selectedObj.definingPts)||"hl_point"in b.activeTool.hlObjs||f(e.usrCoords[1],e.usrCoords[2]),b.activeTool.updateHighlights(e)}),$(document).on("keydown.ToolDeactivate",function(t){"Escape"===t.key&&b.tools[0].activate()})),$(window).resize(function(t){if(b.board.canvasWidth!=d.width()||b.board.canvasHeight!=d.height()){b.board.resizeContainer(d.width(),d.height(),!0);for(var e=0;e<b.board.objectsList.length;++e)"FillIcon"===b.board.objectsList[e].name&&(b.board.objectsList[e].setPosition(JXG.COORDS_BY_USER,[b.board.objectsList[e].point.X()-12/b.board.unitX,b.board.objectsList[e].point.Y()-12/b.board.unitY]),b.board.update())}}),b.drawSolid=!0,b.graphedObjs=[],b.staticObjs=[],b.selectedObj=null,b.board.unsuspendUpdate()}(),t&&D(t.value,!1),n.staticObjects&&"string"==typeof n.staticObjects&&n.staticObjects.length&&D(n.staticObjects,!0),n.isStatic||(g(),b.activeTool=b.tools[0],b.activeTool.activate(!0))}function p(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5}function f(t,e){b.current_pos_text.setText("("+p(t,s)+", "+p(e,a)+")")}function g(){t.value=b.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")}function O(t){var e;t[JXG.touchProperty]&&(e=0);var o=b.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],s=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,s],b.board)}function v(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=O(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+a]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+s,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-s,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-a])}C(),g()}function j(t){var e=O(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=s:o-=s),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=s:i-=s),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),C(),g()}function y(t,e,o,i){var r=b.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:s,snapSizeY:a,withLabel:!1});return r.on("down",function(){b.board.containerObj.style.cursor="none"}),r.on("up",function(){b.board.containerObj.style.cursor="auto"}),void 0!==o&&((r.paired_point=o).paired_point=r,o.on("drag",i?j:v),r.on("drag",i?j:v)),r}function C(){b.graphedObjs.forEach(function(t){t.update()}),b.staticObjs.forEach(function(t){t.update()})}function m(t){this.baseObj=t,(this.baseObj.gtGraphObject=this).definingPts={}}function w(t,e,o){m.call(this,b.board.create("line",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function x(t,e,o){m.call(this,b.board.create("circle",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function S(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function X(e,o,i,t,r){var s={strokeWidth:2,highlight:!1,dash:t?0:2};return void 0!==r&&(s.strokeColor=r),i?b.board.create("curve",[function(t){return t},function(t){return S(e,o,i)*Math.pow(t-e.X(),2)+e.Y()},function(){return b.board.getBoundingBox()[0]},function(){return b.board.getBoundingBox()[2]}],s):b.board.create("curve",[function(t){return S(e,o,i)*Math.pow(t-e.Y(),2)+e.X()},function(t){return t},function(){return b.board.getBoundingBox()[3]},function(){return b.board.getBoundingBox()[1]}],s)}function _(t,e,o,i){m.call(this,X(t,e,o,i)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function Y(t){t.setAttribute({visible:!1}),m.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var r=this;this.definingPts.icon=b.board.create("image",[function(){return r.focused?"data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E":o},[t.X()-12/b.board.unitX,t.Y()-12/b.board.unitY],[function(){return 24/b.board.unitX},function(){return 24/b.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),(this.definingPts.icon.gtGraphObject=this).definingPts.icon.point=t,this.isStatic=n.isStatic,n.isStatic||(this.definingPts.icon.on("down",function(){b.board.containerObj.style.cursor="none"}),this.definingPts.icon.on("up",function(){b.board.containerObj.style.cursor="auto"}),this.definingPts.icon.on("drag",function(t){var e=O(t),o=p(e.usrCoords[1],s),i=p(e.usrCoords[2],a);this.setPosition(JXG.COORDS_BY_USER,[o-12/b.board.unitX,i-12/b.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[o,i]),r.update(),g()}))}function P(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:0<t?1:-1}function k(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function E(t){k.call(this,t,"select","Object Selection Tool")}function G(t){k.call(this,t,"line","Line Tool")}function B(t){k.call(this,t,"circle","Circle Tool")}function R(t,e){k.call(this,t,e?"vertical-parabola":"horizontal-parabola",e?"Vertical Parabola Tool":"Horizontal Parabola Tool"),this.vertical=e}function z(t){k.call(this,t,"fill","Region Shading Tool")}function T(t){this.blur(),u.prop("disabled",t.data.solid),h.prop("disabled",!t.data.solid),b.selectedObj&&(b.selectedObj.setSolid(t.data.solid),g()),b.drawSolid=t.data.solid,b.activeTool.updateHighlights()}function D(t,e){b.board.suspendUpdate();var o=n.isStatic;n.isStatic=e;for(var i,r=/{(.*?)}/g;i=r.exec(t);){var s=m.restore(i[1]);!1!==s&&(e?b.staticObjs.push(s):b.graphedObjs.push(s))}n.isStatic=o,C(),b.board.unsuspendUpdate()}}Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})});