function graphTool(t,e,o,i,r,n,s){function a(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5}function d(){G.value=R.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")}function c(t){var e;t[JXG.touchProperty]&&(e=0);var o=R.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],n=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,n],R.board)}function l(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=c(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+s]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+n,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-n,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-s])}p(),d()}function u(t){var e=c(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=n:o-=n),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=n:i-=n),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),p(),d()}function h(t,e,o,i){var r=R.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1});return r.on("down",function(){R.board.containerObj.style.cursor="none"}),r.on("up",function(){R.board.containerObj.style.cursor="auto"}),void 0!==o&&(r.paired_point=o,o.paired_point=r,o.on("drag",i?u:l),r.on("drag",i?u:l)),r}function p(){R.graphedObjs.forEach(function(t){t.update()}),R.staticObjs.forEach(function(t){t.update()})}function b(t){this.baseObj=t,this.baseObj.gtGraphObject=this,this.definingPts={}}function f(t,e,o){b.call(this,R.board.create("line",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function g(t,e,o){b.call(this,R.board.create("circle",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function v(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function O(t,e,o,i,r){var n={strokeWidth:2,highlight:!1,dash:i?0:2};return void 0!==r&&(n.strokeColor=r),o?R.board.create("curve",[function(t){return t},function(i){return v(t,e,o)*Math.pow(i-t.X(),2)+t.Y()},function(){return R.board.getBoundingBox()[0]},function(){return R.board.getBoundingBox()[2]}],n):R.board.create("curve",[function(i){return v(t,e,o)*Math.pow(i-t.Y(),2)+t.X()},function(t){return t},function(){return R.board.getBoundingBox()[3]},function(){return R.board.getBoundingBox()[1]}],n)}function j(t,e,o,i){b.call(this,O(t,e,o,i)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function y(t){t.setAttribute({visible:!1}),b.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var e=this;this.definingPts.icon=R.board.create("image",[function(){return e.focused?z:B},[t.X()-12/R.board.unitX,t.Y()-12/R.board.unitY],[function(){return 24/R.board.unitX},function(){return 24/R.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),this.definingPts.icon.gtGraphObject=this,this.definingPts.icon.point=t,this.isStatic=i,i||(this.definingPts.icon.on("down",function(){R.board.containerObj.style.cursor="none"}),this.definingPts.icon.on("up",function(){R.board.containerObj.style.cursor="auto"}),this.definingPts.icon.on("drag",function(t){var o=c(t),i=a(o.usrCoords[1],n),r=a(o.usrCoords[2],s);this.setPosition(JXG.COORDS_BY_USER,[i-12/R.board.unitX,r-12/R.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[i,r]),e.update(),d()}))}function m(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:t>0?1:-1}function C(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function w(t){C.call(this,t,"select","Object Selection Tool")}function x(t){C.call(this,t,"line","Line Tool")}function X(t){C.call(this,t,"circle","Circle Tool")}function k(t,e){C.call(this,t,e?"vertical-parabola":"horizontal-parabola",e?"Vertical Parabola Tool":"Horizontal Parabola Tool"),this.vertical=e}function P(t){C.call(this,t,"fill","Region Shading Tool")}function Y(t){this.blur(),M.prop("disabled",t.data.solid),L.prop("disabled",!t.data.solid),R.selectedObj&&(R.selectedObj.setSolid(t.data.solid),d()),R.drawSolid=t.data.solid,R.activeTool.updateHighlights()}function S(){this.blur(),R.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<R.graphedObjs.length;++t)if(R.graphedObjs[t].id()===R.selectedObj.id()){R.graphedObjs[t].remove(),R.graphedObjs.splice(t,1);break}R.selectedObj=null,p(),d(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})}function _(){this.blur(),0!=R.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){R.graphedObjs.forEach(function(t){t.remove()}),R.graphedObjs=[],R.selectedObj=null,R.tools[0].activate(),G.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})}function E(t,e){R.board.suspendUpdate();var o=i;i=e;for(var r,n=/{(.*?)}/g;r=n.exec(t);){var s=b.restore(r[1]);!1!==s&&(e?R.staticObjs.push(s):R.graphedObjs.push(s))}i=o,p(),R.board.unsuspendUpdate()}if(!document.getElementById(t+"_graph")){void 0===n&&(n=1),void 0===s&&(s=1);var G,B="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",z="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",R={};e.length&&(G=document.getElementById(e));var T={showCopyright:!1,minimizeReflow:"all",pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7}},grid:{gridX:n,gridY:s}};void 0!==r&&$.extend(!0,T,T,r),b.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})})},b.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),R.drawSolid=0==this.baseObj.getAttribute("dash"),M.prop("disabled",R.drawSolid),L.prop("disabled",!R.drawSolid)},b.prototype.update=function(){},b.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){R.board.removeObject(t)}),R.board.removeObject(this.baseObj)},b.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},b.prototype.stringify=function(){return""},b.prototype.id=function(){return this.baseObj.id},b.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},b.prototype.off=function(t,e){this.baseObj.off(t,e)},b.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;switch(e[1]){case"line":o=f.restore(e[2]);break;case"parabola":o=j.restore(e[2]);break;case"circle":o=g.restore(e[2]);break;case"fill":o=y.restore(e[2])}return!1!==o&&o.blur(),o},f.prototype=Object.create(b.prototype),Object.defineProperty(f.prototype,"constructor",{value:f,enumerable:!1,writable:!0}),f.prototype.stringify=function(){return"line,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+a(this.definingPts.point1.X(),n)+","+a(this.definingPts.point1.Y(),s)+"),("+a(this.definingPts.point2.X(),n)+","+a(this.definingPts.point2.Y(),s)+")"},f.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=h(parseFloat(i[0][0]),parseFloat(i[0][1]));return new f(r,h(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},g.prototype=Object.create(b.prototype),Object.defineProperty(g.prototype,"constructor",{value:g,enumerable:!1,writable:!0}),g.prototype.stringify=function(){return"circle,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+a(this.definingPts.center.X(),n)+","+a(this.definingPts.center.Y(),s)+"),("+a(this.definingPts.point.X(),n)+","+a(this.definingPts.point.Y(),s)+")"},g.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=h(parseFloat(i[0][0]),parseFloat(i[0][1]));return new g(r,h(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},j.prototype=Object.create(b.prototype),Object.defineProperty(j.prototype,"constructor",{value:j,enumerable:!1,writable:!0}),j.prototype.stringify=function(){return"parabola,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+","+(this.vertical?"vertical":"horizontal")+",("+a(this.definingPts.vertex.X(),n)+","+a(this.definingPts.vertex.Y(),s)+"),("+a(this.definingPts.point.X(),n)+","+a(this.definingPts.point.Y(),s)+")"},j.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=h(parseFloat(i[0][0]),parseFloat(i[0][1]));return new j(r,h(parseFloat(i[1][0]),parseFloat(i[1][1]),r,!0),/vertical/.test(t),/solid/.test(t))},y.prototype=Object.create(b.prototype),Object.defineProperty(y.prototype,"constructor",{value:y,enumerable:!1,writable:!0}),y.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},y.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},y.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},y.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},y.prototype.remove=function(){"fillObj"in this&&R.board.removeObject(this.fillObj),b.prototype.remove.call(this)},y.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var t=this;this.updateTimeout=setTimeout(function(){t.updateTimeout=0,"fillObj"in t&&(R.board.removeObject(t.fillObj),delete t.fillObj);for(var e=t.definingPts.point.coords.usrCoords,o=R.graphedObjs.concat(R.staticObjs),i=Array(o.length),r=0;r<o.length;++r){switch(o[r].baseObj.elType){case"line":i[r]=m(JXG.Math.innerProduct(e,o[r].baseObj.stdform));break;case"circle":i[r]=m(o[r].baseObj.stdform[3]*(e[1]*e[1]+e[2]*e[2])+JXG.Math.innerProduct(e,o[r].baseObj.stdform));break;case"curve":o[r].vertical?i[r]=m(e[2]-o[r].baseObj.Y(e[1])):i[r]=m(e[1]-o[r].baseObj.X(e[2]));break;default:i[r]=1}if(0==i[r])return}var n=document.createElement("canvas");n.width=R.board.canvasWidth,n.height=R.board.canvasHeight;for(var s=n.getContext("2d"),a=s.getImageData(0,0,n.width,n.height),d=0;d<n.width;++d)for(var c=0;c<n.height;++c)(function(t,e){for(var r=[1,(t-R.board.origin.scrCoords[1])/R.board.unitX,(R.board.origin.scrCoords[2]-e)/R.board.unitY],n=0;n<o.length;++n)switch(o[n].baseObj.elType){case"line":if(m(JXG.Math.innerProduct(r,o[n].baseObj.stdform))!=i[n])return!1;break;case"circle":if(m(o[n].baseObj.stdform[3]*(r[1]*r[1]+r[2]*r[2])+JXG.Math.innerProduct(r,o[n].baseObj.stdform))!=i[n])return!1;break;case"curve":if(o[n].vertical&&m(r[2]-o[n].baseObj.Y(r[1]))!=i[n]||!o[n].vertical&&m(r[1]-o[n].baseObj.X(r[2]))!=i[n])return!1}return!0})(d,c)&&function(t){a.data[t]=255,a.data[t+1]=255,a.data[t+2]=150,a.data[t+3]=255}(4*(c*n.width+d));s.putImageData(a,0,0);var l=n.toDataURL("image/png");n.remove();var u=R.board.getBoundingBox();t.fillObj=R.board.create("image",[l,[u[0],u[3]],[u[2]-u[0],u[1]-u[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},y.prototype.stringify=function(){return"fill,("+a(this.baseObj.X(),n)+","+a(this.baseObj.Y(),s)+")"},y.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));return!!i.length&&new y(h(parseFloat(i[0][0]),parseFloat(i[0][1])))},C.prototype.activate=function(){R.activeTool.deactivate(),R.activeTool=this,this.button.blur(),this.button.prop("disabled",!0)},C.prototype.updateHighlights=function(t){},C.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){R.board.removeObject(this[t]),delete this[t]},this.hlObjs)},C.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},w.prototype=Object.create(C.prototype),Object.defineProperty(w.prototype,"constructor",{value:w,enumerable:!1,writable:!0}),w.prototype.selectionChanged=function(t){if(R.selectedObj){if(R.selectedObj.id()==this.gtGraphObject.id())return;for(var e=c(t),o=Object.values(R.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==a(e.usrCoords[1],n)&&o[i].Y()==a(e.usrCoords[2],s))return;R.selectedObj.blur()}R.selectedObj=this.gtGraphObject,R.selectedObj.focus()},w.prototype.activate=function(t){C.prototype.activate.call(this),t||1!=R.graphedObjs.length||(R.selectedObj=R.graphedObjs[0],R.selectedObj.focus()),R.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},w.prototype.deactivate=function(){R.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),C.prototype.deactivate.call(this)},x.prototype=Object.create(C.prototype),Object.defineProperty(x.prototype,"constructor",{value:x,enumerable:!1,writable:!0}),x.prototype.updateHighlights=function(t){"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:R.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=R.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=R.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:R.drawSolid?0:2}))),R.board.update())},x.prototype.deactivate=function(){R.board.off("up"),"point1"in this&&R.board.removeObject(this.point1),delete this.point1,R.board.containerObj.style.cursor="auto",C.prototype.deactivate.call(this)},x.prototype.activate=function(){C.prototype.activate.call(this),R.selectedObj&&R.selectedObj.blur(),R.selectedObj=null,R.board.containerObj.style.cursor="none";var t=this;R.board.on("up",function(e){var o=c(e);R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(R.board.off("up"),t.point1=R.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.point1.setAttribute({fixed:!0}),t.removeHighlights(),R.board.on("up",function(e){var o=c(e);t.point1.X()==a(o.usrCoords[1],n)&&t.point1.Y()==a(o.usrCoords[2],s)||!R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])||(R.board.off("up"),t.point1.setAttribute({fixed:!1}),t.point1.on("down",function(){R.board.containerObj.style.cursor="none"}),t.point1.on("up",function(){R.board.containerObj.style.cursor="auto"}),R.selectedObj=new f(t.point1,h(o.usrCoords[1],o.usrCoords[2],t.point1),R.drawSolid),R.graphedObjs.push(R.selectedObj),delete t.point1,p(),d(),R.board.update(),R.tools[0].activate())}),R.board.update())})},X.prototype=Object.create(C.prototype),Object.defineProperty(X.prototype,"constructor",{value:X,enumerable:!1,writable:!0}),X.prototype.updateHighlights=function(t){"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:R.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=R.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=R.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:R.drawSolid?0:2}))),R.board.update())},X.prototype.deactivate=function(){R.board.off("up"),"center"in this&&R.board.removeObject(this.center),delete this.center,R.board.containerObj.style.cursor="auto",C.prototype.deactivate.call(this)},X.prototype.activate=function(){C.prototype.activate.call(this),R.selectedObj&&R.selectedObj.blur(),R.selectedObj=null,R.board.containerObj.style.cursor="none";var t=this;R.board.on("up",function(e){var o=c(e);R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(R.board.off("up"),t.center=R.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.center.setAttribute({fixed:!0}),t.removeHighlights(),R.board.on("up",function(e){var o=c(e);t.center.X()==a(o.usrCoords[1],n)&&t.center.Y()==a(o.usrCoords[2],s)||!R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])||(R.board.off("up"),t.center.setAttribute({fixed:!1}),t.center.on("down",function(){R.board.containerObj.style.cursor="none"}),t.center.on("up",function(){R.board.containerObj.style.cursor="auto"}),R.selectedObj=new g(t.center,h(o.usrCoords[1],o.usrCoords[2],t.center),R.drawSolid),R.graphedObjs.push(R.selectedObj),delete t.center,p(),d(),R.board.update(),R.tools[0].activate())}),R.board.update())})},k.prototype=Object.create(C.prototype),Object.defineProperty(k.prototype,"constructor",{value:k,enumerable:!1,writable:!0}),k.prototype.updateHighlights=function(t){"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:R.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=R.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=O(this.vertex,this.hlObjs.hl_point,this.vertical,R.drawSolid,"orange"))),R.board.update())},k.prototype.deactivate=function(){R.board.off("up"),"vertex"in this&&R.board.removeObject(this.vertex),delete this.vertex,R.board.containerObj.style.cursor="auto",C.prototype.deactivate.call(this)},k.prototype.activate=function(){C.prototype.activate.call(this),R.selectedObj&&R.selectedObj.blur(),R.selectedObj=null,R.board.containerObj.style.cursor="none";var t=this;R.board.on("up",function(e){var o=c(e);R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(R.board.off("up"),t.vertex=R.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.vertex.setAttribute({fixed:!0}),t.removeHighlights(),R.board.on("up",function(e){var o=c(e);t.vertex.X()!=a(o.usrCoords[1],n)&&t.vertex.Y()!=a(o.usrCoords[2],s)&&R.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(R.board.off("up"),t.vertex.setAttribute({fixed:!1}),t.vertex.on("down",function(){R.board.containerObj.style.cursor="none"}),t.vertex.on("up",function(){R.board.containerObj.style.cursor="auto"}),R.selectedObj=new j(t.vertex,h(o.usrCoords[1],o.usrCoords[2],t.vertex,!0),t.vertical,R.drawSolid),R.graphedObjs.push(R.selectedObj),delete t.vertex,p(),d(),R.board.update(),R.tools[0].activate())}),R.board.update())})},P.prototype=Object.create(C.prototype),Object.defineProperty(P.prototype,"constructor",{value:P,enumerable:!1,writable:!0}),P.prototype.updateHighlights=function(t){void 0!==t&&("hl_image"in this.hlObjs?this.hlObjs.hl_image.setPosition(JXG.COORDS_BY_USER,[a(t.usrCoords[1],n)-12/R.board.unitX,a(t.usrCoords[2],s)-12/R.board.unitY]):this.hlObjs.hl_image=R.board.create("image",[B,[a(t.usrCoords[1],n)-12/R.board.unitX,a(t.usrCoords[2],s)-12/R.board.unitY],[24/R.board.unitX,24/R.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),R.board.update())},P.prototype.deactivate=function(){R.board.off("up"),R.board.containerObj.style.cursor="auto",C.prototype.deactivate.call(this)},P.prototype.activate=function(){C.prototype.activate.call(this),R.selectedObj&&R.selectedObj.blur(),R.selectedObj=null,R.board.containerObj.style.cursor="none",R.board.on("up",function(t){R.board.off("up");var e=c(t);R.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(R.board.off("up"),R.selectedObj=new y(h(e.usrCoords[1],e.usrCoords[2])),R.graphedObjs.push(R.selectedObj),d(),R.board.update(),R.tools[0].activate())})},R.tools=[];var D=$("#"+t),J=$("<div id='"+t+"_graph' class='jxgbox graphtool-graph'></div>");if(D.append(J),!i){var A=$("<div class='gt-toolbar-container'></div>");R.tools[0]=new w(A),R.tools[1]=new x(A),R.tools[2]=new X(A),R.tools[3]=new k(A,!0),R.tools[4]=new k(A,!1),R.tools[5]=new P(A,!1);var F=$("<div class='gt-solid-dash-box'></div>"),M=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},Y);F.append(M);var L=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},Y);F.append(L),A.append(F),A.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",S)),A.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",_)),D.append(A),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){R.board=JXG.JSXGraph.initBoard(t+"_graph",T),R.board.suspendUpdate(),R.board.create("text",[function(){return R.board.getBoundingBox()[2]-3/R.board.unitX},function(){return 1.5/R.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),R.board.create("text",[function(){return 4.5/R.board.unitX},function(){return R.board.getBoundingBox()[1]+2.5/R.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),R.current_pos_text=R.board.create("text",[function(){return R.board.getBoundingBox()[2]-5/R.board.unitX},function(){return R.board.getBoundingBox()[3]+5/R.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),R.board.highlightInfobox=function(t,e,o){return R.board.highlightCustomInfobox("",o)},i||R.board.on("move",function(t){var e=c(t);R.current_pos_text.setText("("+a(e.usrCoords[1],n)+", "+a(e.usrCoords[2],s)+")"),R.activeTool.updateHighlights(e)}),$(window).resize(function(t){if(R.board.canvasWidth!=J.width()||R.board.canvasHeight!=J.height()){R.board.resizeContainer(J.width(),J.height(),!0);for(var e=0;e<R.board.objectsList.length;++e)"FillIcon"===R.board.objectsList[e].name&&(R.board.objectsList[e].setPosition(JXG.COORDS_BY_USER,[R.board.objectsList[e].point.X()-12/R.board.unitX,R.board.objectsList[e].point.Y()-12/R.board.unitY]),R.board.update())}}),R.drawSolid=!0,R.graphedObjs=[],R.staticObjs=[],R.selectedObj=null,R.board.unsuspendUpdate()}(),G&&E(G.value,!1),"string"==typeof o&&o.length&&E(o,!0),i||(d(),R.activeTool=R.tools[0],R.activeTool.activate(!0))}}Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})});