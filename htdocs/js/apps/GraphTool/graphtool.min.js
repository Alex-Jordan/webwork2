function graphTool(t,e,o,i,r,n,s){function a(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5}function d(t,e){T.current_pos_text.setText("("+a(t,n)+", "+a(e,s)+")")}function c(){B.value=T.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")}function l(t){var e;t[JXG.touchProperty]&&(e=0);var o=T.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],n=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,n],T.board)}function h(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=l(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+s]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+n,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-n,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-s])}b(),c()}function u(t){var e=l(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=n:o-=n),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=n:i-=n),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),b(),c()}function p(t,e,o,i){var r=T.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1});return r.on("down",function(){T.board.containerObj.style.cursor="none"}),r.on("up",function(){T.board.containerObj.style.cursor="auto"}),void 0!==o&&(r.paired_point=o,o.paired_point=r,o.on("drag",i?u:h),r.on("drag",i?u:h)),r}function b(){T.graphedObjs.forEach(function(t){t.update()}),T.staticObjs.forEach(function(t){t.update()})}function f(t){this.baseObj=t,this.baseObj.gtGraphObject=this,this.definingPts={}}function g(t,e,o){f.call(this,T.board.create("line",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function O(t,e,o){f.call(this,T.board.create("circle",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function v(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function j(t,e,o,i,r){var n={strokeWidth:2,highlight:!1,dash:i?0:2};return void 0!==r&&(n.strokeColor=r),o?T.board.create("curve",[function(t){return t},function(i){return v(t,e,o)*Math.pow(i-t.X(),2)+t.Y()},function(){return T.board.getBoundingBox()[0]},function(){return T.board.getBoundingBox()[2]}],n):T.board.create("curve",[function(i){return v(t,e,o)*Math.pow(i-t.Y(),2)+t.X()},function(t){return t},function(){return T.board.getBoundingBox()[3]},function(){return T.board.getBoundingBox()[1]}],n)}function y(t,e,o,i){f.call(this,j(t,e,o,i)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function C(t){t.setAttribute({visible:!1}),f.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var e=this;this.definingPts.icon=T.board.create("image",[function(){return e.focused?R:z},[t.X()-12/T.board.unitX,t.Y()-12/T.board.unitY],[function(){return 24/T.board.unitX},function(){return 24/T.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),this.definingPts.icon.gtGraphObject=this,this.definingPts.icon.point=t,this.isStatic=i,i||(this.definingPts.icon.on("down",function(){T.board.containerObj.style.cursor="none"}),this.definingPts.icon.on("up",function(){T.board.containerObj.style.cursor="auto"}),this.definingPts.icon.on("drag",function(t){var o=l(t),i=a(o.usrCoords[1],n),r=a(o.usrCoords[2],s);this.setPosition(JXG.COORDS_BY_USER,[i-12/T.board.unitX,r-12/T.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[i,r]),e.update(),c()}))}function m(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:t>0?1:-1}function w(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function x(t){w.call(this,t,"select","Object Selection Tool")}function X(t){w.call(this,t,"line","Line Tool")}function _(t){w.call(this,t,"circle","Circle Tool")}function Y(t,e){w.call(this,t,e?"vertical-parabola":"horizontal-parabola",e?"Vertical Parabola Tool":"Horizontal Parabola Tool"),this.vertical=e}function P(t){w.call(this,t,"fill","Region Shading Tool")}function k(t){this.blur(),L.prop("disabled",t.data.solid),H.prop("disabled",!t.data.solid),T.selectedObj&&(T.selectedObj.setSolid(t.data.solid),c()),T.drawSolid=t.data.solid,T.activeTool.updateHighlights()}function S(){this.blur(),T.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<T.graphedObjs.length;++t)if(T.graphedObjs[t].id()===T.selectedObj.id()){T.graphedObjs[t].remove(),T.graphedObjs.splice(t,1);break}T.selectedObj=null,b(),c(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})}function E(){this.blur(),0!=T.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){T.graphedObjs.forEach(function(t){t.remove()}),T.graphedObjs=[],T.selectedObj=null,T.tools[0].activate(),B.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})}function G(t,e){T.board.suspendUpdate();var o=i;i=e;for(var r,n=/{(.*?)}/g;r=n.exec(t);){var s=f.restore(r[1]);!1!==s&&(e?T.staticObjs.push(s):T.graphedObjs.push(s))}i=o,b(),T.board.unsuspendUpdate()}if(!document.getElementById(t+"_graph")){void 0===n&&(n=1),void 0===s&&(s=1);var B,z="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",R="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",T={};e.length&&(B=document.getElementById(e));var D={showCopyright:!1,minimizeReflow:"all",pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7}},grid:{gridX:n,gridY:s}};void 0!==r&&$.extend(!0,D,D,r),f.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})})},f.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),T.drawSolid=0==this.baseObj.getAttribute("dash"),L.prop("disabled",T.drawSolid),H.prop("disabled",!T.drawSolid)},f.prototype.update=function(){},f.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){T.board.removeObject(t)}),T.board.removeObject(this.baseObj)},f.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},f.prototype.stringify=function(){return""},f.prototype.id=function(){return this.baseObj.id},f.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},f.prototype.off=function(t,e){this.baseObj.off(t,e)},f.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;switch(e[1]){case"line":o=g.restore(e[2]);break;case"parabola":o=y.restore(e[2]);break;case"circle":o=O.restore(e[2]);break;case"fill":o=C.restore(e[2])}return!1!==o&&o.blur(),o},g.prototype=Object.create(f.prototype),Object.defineProperty(g.prototype,"constructor",{value:g,enumerable:!1,writable:!0}),g.prototype.stringify=function(){return"line,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+a(this.definingPts.point1.X(),n)+","+a(this.definingPts.point1.Y(),s)+"),("+a(this.definingPts.point2.X(),n)+","+a(this.definingPts.point2.Y(),s)+")"},g.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=p(parseFloat(i[0][0]),parseFloat(i[0][1]));return new g(r,p(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},O.prototype=Object.create(f.prototype),Object.defineProperty(O.prototype,"constructor",{value:O,enumerable:!1,writable:!0}),O.prototype.stringify=function(){return"circle,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+a(this.definingPts.center.X(),n)+","+a(this.definingPts.center.Y(),s)+"),("+a(this.definingPts.point.X(),n)+","+a(this.definingPts.point.Y(),s)+")"},O.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=p(parseFloat(i[0][0]),parseFloat(i[0][1]));return new O(r,p(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},y.prototype=Object.create(f.prototype),Object.defineProperty(y.prototype,"constructor",{value:y,enumerable:!1,writable:!0}),y.prototype.stringify=function(){return"parabola,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+","+(this.vertical?"vertical":"horizontal")+",("+a(this.definingPts.vertex.X(),n)+","+a(this.definingPts.vertex.Y(),s)+"),("+a(this.definingPts.point.X(),n)+","+a(this.definingPts.point.Y(),s)+")"},y.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=p(parseFloat(i[0][0]),parseFloat(i[0][1]));return new y(r,p(parseFloat(i[1][0]),parseFloat(i[1][1]),r,!0),/vertical/.test(t),/solid/.test(t))},C.prototype=Object.create(f.prototype),Object.defineProperty(C.prototype,"constructor",{value:C,enumerable:!1,writable:!0}),C.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},C.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},C.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},C.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},C.prototype.remove=function(){"fillObj"in this&&T.board.removeObject(this.fillObj),f.prototype.remove.call(this)},C.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var t=this;this.updateTimeout=setTimeout(function(){t.updateTimeout=0,"fillObj"in t&&(T.board.removeObject(t.fillObj),delete t.fillObj);for(var e=t.definingPts.point.coords.usrCoords,o=T.graphedObjs.concat(T.staticObjs),i=Array(o.length),r=0;r<o.length;++r){switch(o[r].baseObj.elType){case"line":i[r]=m(JXG.Math.innerProduct(e,o[r].baseObj.stdform));break;case"circle":i[r]=m(o[r].baseObj.stdform[3]*(e[1]*e[1]+e[2]*e[2])+JXG.Math.innerProduct(e,o[r].baseObj.stdform));break;case"curve":o[r].vertical?i[r]=m(e[2]-o[r].baseObj.Y(e[1])):i[r]=m(e[1]-o[r].baseObj.X(e[2]));break;default:i[r]=1}if(0==i[r])return}var n=document.createElement("canvas");n.width=T.board.canvasWidth,n.height=T.board.canvasHeight;for(var s=n.getContext("2d"),a=s.getImageData(0,0,n.width,n.height),d=0;d<n.width;++d)for(var c=0;c<n.height;++c)(function(t,e){for(var r=[1,(t-T.board.origin.scrCoords[1])/T.board.unitX,(T.board.origin.scrCoords[2]-e)/T.board.unitY],n=0;n<o.length;++n)switch(o[n].baseObj.elType){case"line":if(m(JXG.Math.innerProduct(r,o[n].baseObj.stdform))!=i[n])return!1;break;case"circle":if(m(o[n].baseObj.stdform[3]*(r[1]*r[1]+r[2]*r[2])+JXG.Math.innerProduct(r,o[n].baseObj.stdform))!=i[n])return!1;break;case"curve":if(o[n].vertical&&m(r[2]-o[n].baseObj.Y(r[1]))!=i[n]||!o[n].vertical&&m(r[1]-o[n].baseObj.X(r[2]))!=i[n])return!1}return!0})(d,c)&&function(t){a.data[t]=255,a.data[t+1]=255,a.data[t+2]=150,a.data[t+3]=255}(4*(c*n.width+d));s.putImageData(a,0,0);var l=n.toDataURL("image/png");n.remove();var h=T.board.getBoundingBox();t.fillObj=T.board.create("image",[l,[h[0],h[3]],[h[2]-h[0],h[1]-h[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},C.prototype.stringify=function(){return"fill,("+a(this.baseObj.X(),n)+","+a(this.baseObj.Y(),s)+")"},C.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));return!!i.length&&new C(p(parseFloat(i[0][0]),parseFloat(i[0][1])))},w.prototype.activate=function(){T.activeTool.deactivate(),T.activeTool=this,this.button.blur(),this.button.prop("disabled",!0)},w.prototype.updateHighlights=function(t){},w.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){T.board.removeObject(this[t]),delete this[t]},this.hlObjs)},w.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},x.prototype=Object.create(w.prototype),Object.defineProperty(x.prototype,"constructor",{value:x,enumerable:!1,writable:!0}),x.prototype.selectionChanged=function(t){if(T.selectedObj){if(T.selectedObj.id()==this.gtGraphObject.id())return;for(var e=l(t),o=Object.values(T.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==a(e.usrCoords[1],n)&&o[i].Y()==a(e.usrCoords[2],s))return;T.selectedObj.blur()}T.selectedObj=this.gtGraphObject,T.selectedObj.focus()},x.prototype.activate=function(t){w.prototype.activate.call(this),t||1!=T.graphedObjs.length||(T.selectedObj=T.graphedObjs[0],T.selectedObj.focus()),T.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},x.prototype.deactivate=function(){T.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),w.prototype.deactivate.call(this)},X.prototype=Object.create(w.prototype),Object.defineProperty(X.prototype,"constructor",{value:X,enumerable:!1,writable:!0}),X.prototype.updateHighlights=function(t){"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:T.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=T.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=T.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:T.drawSolid?0:2}))),d(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),T.board.update())},X.prototype.deactivate=function(){T.board.off("up"),"point1"in this&&T.board.removeObject(this.point1),delete this.point1,T.board.containerObj.style.cursor="auto",w.prototype.deactivate.call(this)},X.prototype.activate=function(){w.prototype.activate.call(this),T.selectedObj&&T.selectedObj.blur(),T.selectedObj=null,T.board.containerObj.style.cursor="none";var t=this;T.board.on("up",function(e){var o=l(e);T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(T.board.off("up"),t.point1=T.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.point1.setAttribute({fixed:!0}),t.removeHighlights(),T.board.on("up",function(e){var o=l(e);t.point1.X()==a(o.usrCoords[1],n)&&t.point1.Y()==a(o.usrCoords[2],s)||!T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])||(T.board.off("up"),t.point1.setAttribute({fixed:!1}),t.point1.on("down",function(){T.board.containerObj.style.cursor="none"}),t.point1.on("up",function(){T.board.containerObj.style.cursor="auto"}),T.selectedObj=new g(t.point1,p(o.usrCoords[1],o.usrCoords[2],t.point1),T.drawSolid),T.graphedObjs.push(T.selectedObj),delete t.point1,b(),c(),T.board.update(),T.tools[0].activate())}),T.board.update())})},_.prototype=Object.create(w.prototype),Object.defineProperty(_.prototype,"constructor",{value:_,enumerable:!1,writable:!0}),_.prototype.updateHighlights=function(t){"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:T.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=T.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=T.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:T.drawSolid?0:2}))),d(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),T.board.update())},_.prototype.deactivate=function(){T.board.off("up"),"center"in this&&T.board.removeObject(this.center),delete this.center,T.board.containerObj.style.cursor="auto",w.prototype.deactivate.call(this)},_.prototype.activate=function(){w.prototype.activate.call(this),T.selectedObj&&T.selectedObj.blur(),T.selectedObj=null,T.board.containerObj.style.cursor="none";var t=this;T.board.on("up",function(e){var o=l(e);T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(T.board.off("up"),t.center=T.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.center.setAttribute({fixed:!0}),t.removeHighlights(),T.board.on("up",function(e){var o=l(e);t.center.X()==a(o.usrCoords[1],n)&&t.center.Y()==a(o.usrCoords[2],s)||!T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])||(T.board.off("up"),t.center.setAttribute({fixed:!1}),t.center.on("down",function(){T.board.containerObj.style.cursor="none"}),t.center.on("up",function(){T.board.containerObj.style.cursor="auto"}),T.selectedObj=new O(t.center,p(o.usrCoords[1],o.usrCoords[2],t.center),T.drawSolid),T.graphedObjs.push(T.selectedObj),delete t.center,b(),c(),T.board.update(),T.tools[0].activate())}),T.board.update())})},Y.prototype=Object.create(w.prototype),Object.defineProperty(Y.prototype,"constructor",{value:Y,enumerable:!1,writable:!0}),Y.prototype.updateHighlights=function(t){"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:T.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=T.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:s,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=j(this.vertex,this.hlObjs.hl_point,this.vertical,T.drawSolid,"orange"))),d(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),T.board.update())},Y.prototype.deactivate=function(){T.board.off("up"),"vertex"in this&&T.board.removeObject(this.vertex),delete this.vertex,T.board.containerObj.style.cursor="auto",w.prototype.deactivate.call(this)},Y.prototype.activate=function(){w.prototype.activate.call(this),T.selectedObj&&T.selectedObj.blur(),T.selectedObj=null,T.board.containerObj.style.cursor="none";var t=this;T.board.on("up",function(e){var o=l(e);T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(T.board.off("up"),t.vertex=T.board.create("point",[o.usrCoords[1],o.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:s,withLabel:!1}),t.vertex.setAttribute({fixed:!0}),t.removeHighlights(),T.board.on("up",function(e){var o=l(e);t.vertex.X()!=a(o.usrCoords[1],n)&&t.vertex.Y()!=a(o.usrCoords[2],s)&&T.board.hasPoint(o.usrCoords[1],o.usrCoords[2])&&(T.board.off("up"),t.vertex.setAttribute({fixed:!1}),t.vertex.on("down",function(){T.board.containerObj.style.cursor="none"}),t.vertex.on("up",function(){T.board.containerObj.style.cursor="auto"}),T.selectedObj=new y(t.vertex,p(o.usrCoords[1],o.usrCoords[2],t.vertex,!0),t.vertical,T.drawSolid),T.graphedObjs.push(T.selectedObj),delete t.vertex,b(),c(),T.board.update(),T.tools[0].activate())}),T.board.update())})},P.prototype=Object.create(w.prototype),Object.defineProperty(P.prototype,"constructor",{value:P,enumerable:!1,writable:!0}),P.prototype.updateHighlights=function(t){void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[a(t.usrCoords[1],n)-12/T.board.unitX,a(t.usrCoords[2],s)-12/T.board.unitY]):this.hlObjs.hl_point=T.board.create("image",[z,[a(t.usrCoords[1],n)-12/T.board.unitX,a(t.usrCoords[2],s)-12/T.board.unitY],[24/T.board.unitX,24/T.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),d(t.usrCoords[1],t.usrCoords[2]),T.board.update())},P.prototype.deactivate=function(){T.board.off("up"),T.board.containerObj.style.cursor="auto",w.prototype.deactivate.call(this)},P.prototype.activate=function(){w.prototype.activate.call(this),T.selectedObj&&T.selectedObj.blur(),T.selectedObj=null,T.board.containerObj.style.cursor="none",T.board.on("up",function(t){T.board.off("up");var e=l(t);T.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(T.board.off("up"),T.selectedObj=new C(p(e.usrCoords[1],e.usrCoords[2])),T.graphedObjs.push(T.selectedObj),c(),T.board.update(),T.tools[0].activate())})},T.tools=[];var J=$("#"+t),A=$("<div id='"+t+"_graph' class='jxgbox graphtool-graph'></div>");if(J.append(A),!i){var F=$("<div class='gt-toolbar-container'></div>");T.tools[0]=new x(F),T.tools[1]=new X(F),T.tools[2]=new _(F),T.tools[3]=new Y(F,!0),T.tools[4]=new Y(F,!1),T.tools[5]=new P(F,!1);var M=$("<div class='gt-solid-dash-box'></div>"),L=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},k);M.append(L);var H=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},k);M.append(H),F.append(M),F.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",S)),F.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",E)),J.append(F),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){T.board=JXG.JSXGraph.initBoard(t+"_graph",D),T.board.suspendUpdate(),T.board.create("text",[function(){return T.board.getBoundingBox()[2]-3/T.board.unitX},function(){return 1.5/T.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),T.board.create("text",[function(){return 4.5/T.board.unitX},function(){return T.board.getBoundingBox()[1]+2.5/T.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),T.current_pos_text=T.board.create("text",[function(){return T.board.getBoundingBox()[2]-5/T.board.unitX},function(){return T.board.getBoundingBox()[3]+5/T.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),T.board.highlightInfobox=function(t,e,o){return T.board.highlightCustomInfobox("",o)},i||T.board.on("move",function(t){var e=l(t);T.selectedObj&&!Object.keys(T.selectedObj.definingPts).every(function(t){return"icon"==t||!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(d(this[t].X(),this[t].Y()),!1)},T.selectedObj.definingPts)||"hl_point"in T.activeTool.hlObjs||d(e.usrCoords[1],e.usrCoords[2]),T.activeTool.updateHighlights(e)}),$(window).resize(function(t){if(T.board.canvasWidth!=A.width()||T.board.canvasHeight!=A.height()){T.board.resizeContainer(A.width(),A.height(),!0);for(var e=0;e<T.board.objectsList.length;++e)"FillIcon"===T.board.objectsList[e].name&&(T.board.objectsList[e].setPosition(JXG.COORDS_BY_USER,[T.board.objectsList[e].point.X()-12/T.board.unitX,T.board.objectsList[e].point.Y()-12/T.board.unitY]),T.board.update())}}),T.drawSolid=!0,T.graphedObjs=[],T.staticObjs=[],T.selectedObj=null,T.board.unsuspendUpdate()}(),B&&G(B.value,!1),"string"==typeof o&&o.length&&G(o,!0),i||(c(),T.activeTool=T.tools[0],T.activeTool.activate(!0))}}Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})});