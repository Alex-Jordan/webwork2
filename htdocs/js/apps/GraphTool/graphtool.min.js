function graphTool(e,t,o,s,i,n,a){if(!document.getElementById(e+"_graph")){void 0===n&&(n=1),void 0===a&&(a=1);var r,d="data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E",b={};t.length&&(r=document.getElementById(t));var c={showCopyright:!1,minimizeReflow:"all",pan:{enabled:!1},zoom:{enabled:!1},showNavigation:!1,boundingBox:[-10,10,10,-10],defaultAxes:{},axis:{ticks:{label:{highlight:!1},insertTicks:!1,ticksDistance:2,minorTicks:1,minorHeight:6,majorHeight:6,tickEndings:[1,1]},highlight:!1,firstArrow:{size:7},lastArrow:{size:7},straightFirst:!1,straightLast:!1},grid:{gridX:n,gridY:a}};void 0!==i&&$.extend(!0,c,c,i),X.prototype.blur=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!1})})},X.prototype.focus=function(){Object.values(this.definingPts).forEach(function(t){t.setAttribute({visible:!0})}),b.drawSolid=0==this.baseObj.getAttribute("dash"),f.prop("disabled",b.drawSolid),g.prop("disabled",!b.drawSolid)},X.prototype.update=function(){},X.prototype.remove=function(){Object.values(this.definingPts).forEach(function(t){b.board.removeObject(t)}),b.board.removeObject(this.baseObj)},X.prototype.setSolid=function(t){this.baseObj.setAttribute({dash:t?0:2})},X.prototype.stringify=function(){return""},X.prototype.id=function(){return this.baseObj.id},X.prototype.on=function(t,e,o){this.baseObj.on(t,e,o)},X.prototype.off=function(t,e){this.baseObj.off(t,e)},X.restore=function(t){var e=t.match(/^(.*?),(.*)/);if(e.length<3)return!1;var o=!1;switch(e[1]){case"line":o=_.restore(e[2]);break;case"parabola":o=k.restore(e[2]);break;case"circle":o=Y.restore(e[2]);break;case"fill":o=E.restore(e[2])}return!1!==o&&o.blur(),o},_.prototype=Object.create(X.prototype),Object.defineProperty(_.prototype,"constructor",{value:_,enumerable:!1,writable:!0}),_.prototype.stringify=function(){return"line,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+O(this.definingPts.point1.X(),n)+","+O(this.definingPts.point1.Y(),a)+"),("+O(this.definingPts.point2.X(),n)+","+O(this.definingPts.point2.Y(),a)+")"},_.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=w(parseFloat(i[0][0]),parseFloat(i[0][1]));return new _(r,w(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},Y.prototype=Object.create(X.prototype),Object.defineProperty(Y.prototype,"constructor",{value:Y,enumerable:!1,writable:!0}),Y.prototype.stringify=function(){return"circle,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+",("+O(this.definingPts.center.X(),n)+","+O(this.definingPts.center.Y(),a)+"),("+O(this.definingPts.point.X(),n)+","+O(this.definingPts.point.Y(),a)+")"},Y.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=w(parseFloat(i[0][0]),parseFloat(i[0][1]));return new Y(r,w(parseFloat(i[1][0]),parseFloat(i[1][1]),r),/solid/.test(t))},k.prototype=Object.create(X.prototype),Object.defineProperty(k.prototype,"constructor",{value:k,enumerable:!1,writable:!0}),k.prototype.stringify=function(){return"parabola,"+(0==this.baseObj.getAttribute("dash")?"solid":"dashed")+","+(this.vertical?"vertical":"horizontal")+",("+O(this.definingPts.vertex.X(),n)+","+O(this.definingPts.vertex.Y(),a)+"),("+O(this.definingPts.point.X(),n)+","+O(this.definingPts.point.Y(),a)+")"},k.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));if(i.length<2)return!1;var r=w(parseFloat(i[0][0]),parseFloat(i[0][1]));return new k(r,w(parseFloat(i[1][0]),parseFloat(i[1][1]),r,!0),/vertical/.test(t),/solid/.test(t))},E.prototype=Object.create(X.prototype),Object.defineProperty(E.prototype,"constructor",{value:E,enumerable:!1,writable:!0}),E.prototype.blur=function(){this.focused=!1,this.definingPts.icon.setAttribute({fixed:!0})},E.prototype.focus=function(){this.focused=!0,this.definingPts.icon.setAttribute({fixed:!1})},E.prototype.on=function(t,e,o){this.definingPts.icon.on(t,e,o)},E.prototype.off=function(t,e){this.definingPts.icon.off(t,e)},E.prototype.remove=function(){"fillObj"in this&&b.board.removeObject(this.fillObj),X.prototype.remove.call(this)},E.prototype.update=function(){if(!this.isStatic){this.updateTimeout&&clearTimeout(this.updateTimeout);var p=this;this.updateTimeout=setTimeout(function(){p.updateTimeout=0,"fillObj"in p&&(b.board.removeObject(p.fillObj),delete p.fillObj);for(var t=p.definingPts.point.coords.usrCoords,r=b.graphedObjs.concat(b.staticObjs),n=Array(r.length),e=0;e<r.length;++e){switch(r[e].baseObj.elType){case"line":n[e]=B(JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"circle":n[e]=B(r[e].baseObj.stdform[3]*(t[1]*t[1]+t[2]*t[2])+JXG.Math.innerProduct(t,r[e].baseObj.stdform));break;case"curve":r[e].vertical?n[e]=B(t[2]-r[e].baseObj.Y(t[1])):n[e]=B(t[1]-r[e].baseObj.X(t[2]));break;default:n[e]=1}if(0==n[e])return}var o=document.createElement("canvas");o.width=b.board.canvasWidth,o.height=b.board.canvasHeight;function i(t,e){for(var o=[1,(t-b.board.origin.scrCoords[1])/b.board.unitX,(b.board.origin.scrCoords[2]-e)/b.board.unitY],i=0;i<r.length;++i)switch(r[i].baseObj.elType){case"line":if(B(JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=n[i])return!1;break;case"circle":if(B(r[i].baseObj.stdform[3]*(o[1]*o[1]+o[2]*o[2])+JXG.Math.innerProduct(o,r[i].baseObj.stdform))!=n[i])return!1;break;case"curve":if(r[i].vertical&&B(o[2]-r[i].baseObj.Y(o[1]))!=n[i]||!r[i].vertical&&B(o[1]-r[i].baseObj.X(o[2]))!=n[i])return!1}return!0}for(var s,a=o.getContext("2d"),d=a.getImageData(0,0,o.width,o.height),c=0;c<o.width;++c)for(var l=0;l<o.height;++l)i(c,l)&&(s=4*(l*o.width+c),d.data[s]=255,d.data[s+1]=255,d.data[s+2]=150,d.data[s+3]=255);a.putImageData(d,0,0);var u=o.toDataURL("image/png");o.remove();var h=b.board.getBoundingBox();p.fillObj=b.board.create("image",[u,[h[0],h[3]],[h[2]-h[0],h[1]-h[3]]],{withLabel:!1,highlight:!1,fixed:!0,layer:0})},100)}},E.prototype.stringify=function(){return"fill,("+O(this.baseObj.X(),n)+","+O(this.baseObj.Y(),a)+")"},E.restore=function(t){for(var e,o=/\((-?[0-9]*(?:\.[0-9]*)?),(-?[0-9]*(?:\.[0-9]*)?)\)/g,i=[];e=o.exec(t);)i.push(e.slice(1,3));return!!i.length&&new E(w(parseFloat(i[0][0]),parseFloat(i[0][1])))},R.prototype.activate=function(){b.activeTool.deactivate(),(b.activeTool=this).button.blur(),this.button.prop("disabled",!0)},R.prototype.updateHighlights=function(t){},R.prototype.removeHighlights=function(){Object.keys(this.hlObjs).forEach(function(t){b.board.removeObject(this[t]),delete this[t]},this.hlObjs)},R.prototype.deactivate=function(){this.button.prop("disabled",!1),this.removeHighlights()},G.prototype=Object.create(R.prototype),Object.defineProperty(G.prototype,"constructor",{value:G,enumerable:!1,writable:!0}),G.prototype.selectionChanged=function(t){if(b.selectedObj){if(b.selectedObj.id()==this.gtGraphObject.id())return;for(var e=y(t),o=Object.values(b.selectedObj.definingPts),i=0;i<o.length;++i)if(o[i].X()==O(e.usrCoords[1],n)&&o[i].Y()==O(e.usrCoords[2],a))return;b.selectedObj.blur()}b.selectedObj=this.gtGraphObject,b.selectedObj.focus()},G.prototype.activate=function(t){R.prototype.activate.call(this),t||1!=b.graphedObjs.length||(b.selectedObj=b.graphedObjs[0],b.selectedObj.focus()),b.graphedObjs.forEach(function(t){t.on("down",this.selectionChanged)},this)},G.prototype.deactivate=function(){b.graphedObjs.forEach(function(t){t.off("down",this.selectionChanged)},this),R.prototype.deactivate.call(this)},z.prototype=Object.create(R.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,enumerable:!1,writable:!0}),z.prototype.updateHighlights=function(t){"hl_line"in this.hlObjs&&this.hlObjs.hl_line.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1}),"point1"in this&&(this.hlObjs.hl_line=b.board.create("line",[this.point1,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),v(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},z.prototype.deactivate=function(){b.board.off("up"),"point1"in this&&b.board.removeObject(this.point1),delete this.point1,b.board.containerObj.style.cursor="auto",R.prototype.deactivate.call(this)},z.prototype.activate=function(){R.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=y(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.point1=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1}),o.point1.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=y(t);o.point1.X()==O(e.usrCoords[1],n)&&o.point1.Y()==O(e.usrCoords[2],a)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.point1.setAttribute({fixed:!1}),o.point1.on("down",function(){b.board.containerObj.style.cursor="none"}),o.point1.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new _(o.point1,w(e.usrCoords[1],e.usrCoords[2],o.point1),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.point1,x(),j(),b.board.update(),b.tools[0].activate())}),b.board.update())})},T.prototype=Object.create(R.prototype),Object.defineProperty(T.prototype,"constructor",{value:T,enumerable:!1,writable:!0}),T.prototype.updateHighlights=function(t){"hl_circle"in this.hlObjs&&this.hlObjs.hl_circle.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1}),"center"in this&&(this.hlObjs.hl_circle=b.board.create("circle",[this.center,this.hlObjs.hl_point],{fixed:!0,strokeColor:"orange",highlight:!1,dash:b.drawSolid?0:2}))),v(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},T.prototype.deactivate=function(){b.board.off("up"),"center"in this&&b.board.removeObject(this.center),delete this.center,b.board.containerObj.style.cursor="auto",R.prototype.deactivate.call(this)},T.prototype.activate=function(){R.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=y(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.center=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1}),o.center.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=y(t);o.center.X()==O(e.usrCoords[1],n)&&o.center.Y()==O(e.usrCoords[2],a)||!b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])||(b.board.off("up"),o.center.setAttribute({fixed:!1}),o.center.on("down",function(){b.board.containerObj.style.cursor="none"}),o.center.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new Y(o.center,w(e.usrCoords[1],e.usrCoords[2],o.center),b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.center,x(),j(),b.board.update(),b.tools[0].activate())}),b.board.update())})},D.prototype=Object.create(R.prototype),Object.defineProperty(D.prototype,"constructor",{value:D,enumerable:!1,writable:!0}),D.prototype.updateHighlights=function(t){"hl_parabola"in this.hlObjs&&this.hlObjs.hl_parabola.setAttribute({dash:b.drawSolid?0:2}),void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[t.usrCoords[1],t.usrCoords[2]]):(this.hlObjs.hl_point=b.board.create("point",[t.usrCoords[1],t.usrCoords[2]],{size:2,color:"orange",fixed:!0,snapToGrid:!0,snapSizeX:n,snapSizeY:a,highlight:!1,withLabel:!1}),"vertex"in this&&(this.hlObjs.hl_parabola=S(this.vertex,this.hlObjs.hl_point,this.vertical,b.drawSolid,"orange"))),v(this.hlObjs.hl_point.X(),this.hlObjs.hl_point.Y()),b.board.update())},D.prototype.deactivate=function(){b.board.off("up"),"vertex"in this&&b.board.removeObject(this.vertex),delete this.vertex,b.board.containerObj.style.cursor="auto",R.prototype.deactivate.call(this)},D.prototype.activate=function(){R.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none";var o=this;b.board.on("up",function(t){var e=y(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex=b.board.create("point",[e.usrCoords[1],e.usrCoords[2]],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1}),o.vertex.setAttribute({fixed:!0}),o.removeHighlights(),b.board.on("up",function(t){var e=y(t);o.vertex.X()!=O(e.usrCoords[1],n)&&o.vertex.Y()!=O(e.usrCoords[2],a)&&b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),o.vertex.setAttribute({fixed:!1}),o.vertex.on("down",function(){b.board.containerObj.style.cursor="none"}),o.vertex.on("up",function(){b.board.containerObj.style.cursor="auto"}),b.selectedObj=new k(o.vertex,w(e.usrCoords[1],e.usrCoords[2],o.vertex,!0),o.vertical,b.drawSolid),b.graphedObjs.push(b.selectedObj),delete o.vertex,x(),j(),b.board.update(),b.tools[0].activate())}),b.board.update())})},J.prototype=Object.create(R.prototype),Object.defineProperty(J.prototype,"constructor",{value:J,enumerable:!1,writable:!0}),J.prototype.updateHighlights=function(t){void 0!==t&&("hl_point"in this.hlObjs?this.hlObjs.hl_point.setPosition(JXG.COORDS_BY_USER,[O(t.usrCoords[1],n)-12/b.board.unitX,O(t.usrCoords[2],a)-12/b.board.unitY]):this.hlObjs.hl_point=b.board.create("image",[d,[O(t.usrCoords[1],n)-12/b.board.unitX,O(t.usrCoords[2],a)-12/b.board.unitY],[24/b.board.unitX,24/b.board.unitY]],{withLabel:!1,highlight:!1,layer:9}),v(t.usrCoords[1],t.usrCoords[2]),b.board.update())},J.prototype.deactivate=function(){b.board.off("up"),b.board.containerObj.style.cursor="auto",R.prototype.deactivate.call(this)},J.prototype.activate=function(){R.prototype.activate.call(this),b.selectedObj&&b.selectedObj.blur(),b.selectedObj=null,b.board.containerObj.style.cursor="none",b.board.on("up",function(t){b.board.off("up");var e=y(t);b.board.hasPoint(e.usrCoords[1],e.usrCoords[2])&&(b.board.off("up"),b.selectedObj=new E(w(e.usrCoords[1],e.usrCoords[2])),b.graphedObjs.push(b.selectedObj),j(),b.board.update(),b.tools[0].activate())})},b.tools=[];var l=$("#"+e),u=$("<div id='"+e+"_graph' class='jxgbox graphtool-graph'></div>");if(l.append(u),!s){var h=$("<div class='gt-toolbar-container'></div>");b.tools[0]=new G(h),b.tools[1]=new z(h),b.tools[2]=new T(h),b.tools[3]=new D(h,!0),b.tools[4]=new D(h,!1),b.tools[5]=new J(h,!1);var p=$("<div class='gt-solid-dash-box'></div>"),f=$("<button type=button class='btn gt-button gt-tool-button gt-solid-tool' data-tooltip='Make Selected Object Solid' disabled>&nbsp;</button>").on("click",{solid:!0},A);p.append(f);var g=$("<button type=button class='btn gt-button gt-tool-button gt-dashed-tool' data-tooltip='Make Selected Object Dashed'>&nbsp;</button>").on("click",{solid:!1},A);p.append(g),h.append(p),h.append($("<button type=button class='btn gt-button' data-tooltip='Delete Selected Object'>Delete</button>").on("click",function(){this.blur(),b.selectedObj&&$("<div>Do you want to delete the selected object?</div>").dialog({title:"Delete Selected Object",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){for(var t=0;t<b.graphedObjs.length;++t)if(b.graphedObjs[t].id()===b.selectedObj.id()){b.graphedObjs[t].remove(),b.graphedObjs.splice(t,1);break}b.selectedObj=null,x(),j(),$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),h.append($("<button type=button class='btn gt-button' data-tooltip='Clear All Objects From Graph'>Clear</button>").on("click",function(){this.blur(),0!=b.graphedObjs.length&&$("<div>Do you want to remove all graphed objects?</div>").dialog({title:"Clear Graph",width:"auto",height:"auto",modal:!0,resizable:!1,buttons:{Yes:function(){b.graphedObjs.forEach(function(t){t.remove()}),b.graphedObjs=[],b.selectedObj=null,b.tools[0].activate(),r.value="",$(this).dialog("close")},No:function(){$(this).dialog("close")}},close:function(){$(this).remove()}})})),l.append(h),$.widget.bridge("uitooltip",$.ui.tooltip),$(".gt-button").uitooltip({items:"[data-tooltip]",position:{my:"center top",at:"center bottom+5px"},show:{delay:1e3,effect:"none"},hide:{delay:0,effect:"none"},content:function(){var t=$(this);if(t.is("[data-tooltip]"))return t.attr("data-tooltip")}})}!function(){b.board=JXG.JSXGraph.initBoard(e+"_graph",c),b.board.suspendUpdate();var t=b.board.getBoundingBox();b.board.defaultAxes.x.point1.setPosition(JXG.COORDS_BY_USER,[t[0],0]),b.board.defaultAxes.x.point2.setPosition(JXG.COORDS_BY_USER,[t[2],0]),b.board.defaultAxes.y.point1.setPosition(JXG.COORDS_BY_USER,[0,t[3]]),b.board.defaultAxes.y.point2.setPosition(JXG.COORDS_BY_USER,[0,t[1]]),b.board.create("text",[function(){return b.board.getBoundingBox()[2]-3/b.board.unitX},function(){return 1.5/b.board.unitY},function(){return"\\(x\\)"}],{anchorX:"right",anchorY:"bottom",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.board.create("text",[function(){return 4.5/b.board.unitX},function(){return b.board.getBoundingBox()[1]+2.5/b.board.unitY},function(){return"\\(y\\)"}],{anchorX:"left",anchorY:"top",highlight:!1,color:"black",fixed:!0,useMathJax:!0}),b.current_pos_text=b.board.create("text",[function(){return b.board.getBoundingBox()[2]-5/b.board.unitX},function(){return b.board.getBoundingBox()[3]+5/b.board.unitY},""],{anchorX:"right",anchorY:"bottom",fixed:!0}),b.board.highlightInfobox=function(t,e,o){return b.board.highlightCustomInfobox("",o)},s||(b.board.on("move",function(t){var e=y(t);b.selectedObj&&!Object.keys(b.selectedObj.definingPts).every(function(t){return"icon"==t||(!this[t].hasPoint(e.scrCoords[1],e.scrCoords[2])||(v(this[t].X(),this[t].Y()),!1))},b.selectedObj.definingPts)||"hl_point"in b.activeTool.hlObjs||v(e.usrCoords[1],e.usrCoords[2]),b.activeTool.updateHighlights(e)}),$(document).on("keydown.ToolDeactivate",function(t){"Escape"===t.key&&b.tools[0].activate()})),$(window).resize(function(t){if(b.board.canvasWidth!=u.width()||b.board.canvasHeight!=u.height()){b.board.resizeContainer(u.width(),u.height(),!0);for(var e=0;e<b.board.objectsList.length;++e)"FillIcon"===b.board.objectsList[e].name&&(b.board.objectsList[e].setPosition(JXG.COORDS_BY_USER,[b.board.objectsList[e].point.X()-12/b.board.unitX,b.board.objectsList[e].point.Y()-12/b.board.unitY]),b.board.update())}}),b.drawSolid=!0,b.graphedObjs=[],b.staticObjs=[],b.selectedObj=null,b.board.unsuspendUpdate()}(),r&&F(r.value,!1),"string"==typeof o&&o.length&&F(o,!0),s||(j(),b.activeTool=b.tools[0],b.activeTool.activate(!0))}function O(t,e){return Math.round(Math.round(t/e)*e*1e5)/1e5}function v(t,e){b.current_pos_text.setText("("+O(t,n)+", "+O(e,a)+")")}function j(){r.value=b.graphedObjs.reduce(function(t,e){return t+(t.length?",":"")+"{"+e.stringify()+"}"},"")}function y(t){var e;t[JXG.touchProperty]&&(e=0);var o=b.board.getCoordsTopLeftCorner(),i=JXG.getPosition(t,e),r=i[0]-o[0],n=i[1]-o[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[r,n],b.board)}function C(t){if(this.X()==this.paired_point.X()&&this.Y()==this.paired_point.Y()){var e=y(t),o=e.usrCoords[1]-this.paired_point.X(),i=e.usrCoords[2]-this.paired_point.Y();i>Math.abs(o)?this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()+a]):o>Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()+n,this.Y()]):o<-Math.abs(i)?this.setPosition(JXG.COORDS_BY_USER,[this.X()-n,this.Y()]):this.setPosition(JXG.COORDS_BY_USER,[this.X(),this.Y()-a])}x(),j()}function m(t){var e=y(t),o=this.X(),i=this.Y();this.X()==this.paired_point.X()&&(e.usrCoords[1]>this.paired_point.X()?o+=n:o-=n),this.Y()==this.paired_point.Y()&&(e.usrCoords[2]>this.paired_point.Y()?i+=n:i-=n),this.X()!=this.paired_point.X()&&this.Y()!=this.paired_point.Y()||this.setPosition(JXG.COORDS_BY_USER,[o,i]),x(),j()}function w(t,e,o,i){var r=b.board.create("point",[t,e],{size:2,snapToGrid:!0,snapSizeX:n,snapSizeY:a,withLabel:!1});return r.on("down",function(){b.board.containerObj.style.cursor="none"}),r.on("up",function(){b.board.containerObj.style.cursor="auto"}),void 0!==o&&((r.paired_point=o).paired_point=r,o.on("drag",i?m:C),r.on("drag",i?m:C)),r}function x(){b.graphedObjs.forEach(function(t){t.update()}),b.staticObjs.forEach(function(t){t.update()})}function X(t){this.baseObj=t,(this.baseObj.gtGraphObject=this).definingPts={}}function _(t,e,o){X.call(this,b.board.create("line",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.point1=t,this.definingPts.point2=e}function Y(t,e,o){X.call(this,b.board.create("circle",[t,e],{fixed:!0,highlight:!1,dash:o?0:2})),this.definingPts.center=t,this.definingPts.point=e}function P(t,e,o){return o?(e.Y()-t.Y())/Math.pow(e.X()-t.X(),2):(e.X()-t.X())/Math.pow(e.Y()-t.Y(),2)}function S(e,o,i,t,r){var n={strokeWidth:2,highlight:!1,dash:t?0:2};return void 0!==r&&(n.strokeColor=r),i?b.board.create("curve",[function(t){return t},function(t){return P(e,o,i)*Math.pow(t-e.X(),2)+e.Y()},function(){return b.board.getBoundingBox()[0]},function(){return b.board.getBoundingBox()[2]}],n):b.board.create("curve",[function(t){return P(e,o,i)*Math.pow(t-e.Y(),2)+e.X()},function(t){return t},function(){return b.board.getBoundingBox()[3]},function(){return b.board.getBoundingBox()[1]}],n)}function k(t,e,o,i){X.call(this,S(t,e,o,i)),this.definingPts.vertex=t,this.definingPts.point=e,this.vertical=o}function E(t){t.setAttribute({visible:!1}),X.call(this,t),this.focused=!0,this.definingPts.point=t,this.updateTimeout=0,this.update();var r=this;this.definingPts.icon=b.board.create("image",[function(){return r.focused?"data:image/svg+xml,%3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='SVGRoot' version='1.1' viewBox='0 0 32 32' height='32px' width='32px'%3E%3Cdefs id='defs815' /%3E%3Cmetadata id='metadata818'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E%3Cdc:title%3E%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg id='layer1'%3E%3Cpath id='path1382' d='m 13.466084,10.267728 -4.9000003,8.4 4.9000003,4.9 8.4,-4.9 z' style='opacity:1;fill:%2300ff00;fill-opacity:1;stroke:%23000000;stroke-width:1.3;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' /%3E%3Cpath id='path1384' d='M 16.266084,15.780798 V 6.273173' style='fill:none;stroke:%23000000;stroke-width:1.38;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3E%3Cpath id='path1405' d='m 20,16 c 0,0 2,-1 3,0 1,0 1,1 2,2 0,1 0,2 0,3 0,1 0,2 0,2 0,0 -1,0 -1,0 -1,-1 -1,-1 -1,-2 0,-1 0,-1 -1,-2 0,-1 0,-2 -1,-2 -1,-1 -2,-1 -1,-1 z' style='fill:%230900ff;fill-opacity:1;stroke:%23000000;stroke-width:0.7px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3E%3C/g%3E%3C/svg%3E":d},[t.X()-12/b.board.unitX,t.Y()-12/b.board.unitY],[function(){return 24/b.board.unitX},function(){return 24/b.board.unitY}]],{withLabel:!1,highlight:!1,layer:9,name:"FillIcon"}),(this.definingPts.icon.gtGraphObject=this).definingPts.icon.point=t,(this.isStatic=s)||(this.definingPts.icon.on("down",function(){b.board.containerObj.style.cursor="none"}),this.definingPts.icon.on("up",function(){b.board.containerObj.style.cursor="auto"}),this.definingPts.icon.on("drag",function(t){var e=y(t),o=O(e.usrCoords[1],n),i=O(e.usrCoords[2],a);this.setPosition(JXG.COORDS_BY_USER,[o-12/b.board.unitX,i-12/b.board.unitY]),this.point.setPosition(JXG.COORDS_BY_USER,[o,i]),r.update(),j()}))}function B(t){return t=+t,Math.abs(t)<JXG.Math.eps?0:0<t?1:-1}function R(t,e,o){this.button=$("<button type=button class='btn gt-button gt-tool-button gt-"+e+"-tool' data-tooltip='"+o+"'>&nbsp;</button>");var i=this;this.button.on("click",function(){i.activate()}),t.append(this.button),this.hlObjs={}}function G(t){R.call(this,t,"select","Object Selection Tool")}function z(t){R.call(this,t,"line","Line Tool")}function T(t){R.call(this,t,"circle","Circle Tool")}function D(t,e){R.call(this,t,e?"vertical-parabola":"horizontal-parabola",e?"Vertical Parabola Tool":"Horizontal Parabola Tool"),this.vertical=e}function J(t){R.call(this,t,"fill","Region Shading Tool")}function A(t){this.blur(),f.prop("disabled",t.data.solid),g.prop("disabled",!t.data.solid),b.selectedObj&&(b.selectedObj.setSolid(t.data.solid),j()),b.drawSolid=t.data.solid,b.activeTool.updateHighlights()}function F(t,e){b.board.suspendUpdate();var o=s;s=e;for(var i,r=/{(.*?)}/g;i=r.exec(t);){var n=X.restore(i[1]);!1!==n&&(e?b.staticObjs.push(n):b.graphedObjs.push(n))}s=o,x(),b.board.unsuspendUpdate()}}Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})});