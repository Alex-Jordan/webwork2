\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{webwork2}[2023/06/26 version 2.18]

% packages that are used by webwork2 itself, probably by Hardcopy.pm
\usepackage{path}
\discretionaries |~!@$%^&*()_+`-=#{"}[]:;'<>,.?\/abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789|
\usepackage{listings}
\lstset{basicstyle=\ttfamily,breaklines=true,aboveskip=0pt,belowskip=0pt}
\usepackage{pg}

% support for languages and fonts when XeLaTeX in use
% note pg.sty loads iftex package
\ifXeTeX
  \usepackage{fontspec}
  \usepackage{xunicode}
  \usepackage{polyglossia}
  \setdefaultlanguage{english}
  % WeBWorK used Control+_ = ^_ for verbatim... so we change its charcode
  \catcode`\_=12
\fi

% used in convenience macros below
\usepackage{hyperref}
\usepackage{ifthen}

% These macros may be overridden with WeBWorK environment variables
\def\webworkCourseName{}
\def\webworkCourseTitle{}
\def\webworkCourseURL{}
\def\webworkUserId{}
\def\webworkStudentId{}
\def\webworkFirstName{}
\def\webworkLastName{}
\def\webworkEmailAddress{}
\def\webworkSection{}
\def\webworkRecitation{}
\def\webworkSetId{}
\def\webworkDescription{}
\def\webworkOpenDate{}
\def\webworkReducedScoringDate{}
\def\webworkDueDate{}
\def\webworkAnswerDate{}
\def\webworkPrettySetId{}
\def\webworkProblemId{}
\def\webworkProblemNumber{}
\def\webworkProblemWeight{}

% These words/phrases may be overridden for localization
\def\webworkLocalizeAssignment{Assignment}
\def\webworkLocalizeSet{Set}
\def\webworkLocalizeProblem{Problem}
\def\webworkLocalizeUsername{Username}
\def\webworkLocalizeFullCreditBy{full credit by}
\def\webworkLocalizeCloses{closes}
\def\webworkLocalizeSection{Section}
\def\webworkLocalizeRecitation{Recitation}
\def\webworkLocalizePage{Page}
\def\webworkLocalizePoint{point}

% These can be used in a header or footer and their content can be overrided.
\newcommand{\webworkLeftHeader}
{%
\ifx\webworkSetId\empty\else{%
{\large\bfseries \webworkLocalizeAssignment~\href{\webworkCourseURL/\webworkSetId}{\webworkPrettySetId}\\}%
\ifx\webworkReducedScoringDate\empty\else{\webworkLocalizeFullCreditBy~\webworkReducedScoringDate, }\fi\webworkLocalizeCloses~\webworkDueDate\\}\fi%
\ifx\webworkCourseTitle\empty\else{\href{\webworkCourseURL}{\scshape\webworkCourseTitle}}\fi%
}

\newcommand{\webworkCenterHeader}{}

\newcommand{\webworkRightHeader}
{%
\ifx\webworkUserId\empty\else{%
{\large\bfseries\webworkFirstName{} \webworkLastName{} (\webworkUserId)\\}}\fi%
\ifx\webworkSection\empty{\ \\}\else{\webworkLocalizeSection: \webworkSection\\}\fi%
\ifx\webworkRecitation\empty{\ }\else{\webworkLocalizeRecitation: \webworkRecitation}\fi%
}

% These macros declare copyright in the footer of the last page.
\newcommand{\webworkSetCopyrightFooter}{%
\@ifpackageloaded{fancyhdr}%
{%
\fancyfoot[L]{\raisebox{-0.325cm}{\includegraphics[width=3cm]{webwork_logo.png}}}%
\fancyfoot[C]{\small\sffamily Generated by WeBWorK, \copyright~The~WeBWorK~Project.}%
\fancyfoot[R]{\url{openwebwork.org}}%
\pagestyle{fancy}%
\clearpage%
}%
{}%
\@ifclassloaded{exam}%
{%
\footer{\raisebox{-0.325cm}{\includegraphics[width=3cm]{webwork_logo.png}}}%
{\small\sffamily Generated by WeBWorK, \copyright~The~WeBWorK~Project.}%
{\url{openwebwork.org}}%
\clearpage%
}%
{}%
}


